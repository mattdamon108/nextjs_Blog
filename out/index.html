<!DOCTYPE html><html lang="en"><head><meta name="author" content="Moondaddi"/><link rel="manifest" href="/static/manifest.json"/><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="description" content="Build my dreams with codes"/><meta name="theme-color" content="black"/><meta charSet="utf-8" class="next-head"/><title class="next-head">Moondaddi&#x27;s Blog</title><link rel="preload" href="/_next/static/DmTcGCUL9fzETrbP8ToCP/pages/index.js" as="script"/><link rel="preload" href="/_next/static/DmTcGCUL9fzETrbP8ToCP/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-f0c6edbea5b547edc23f.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.298c115416bea8464748.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-ea256225ecf9df19827a.js" as="script"/><style id="__jsx-1792980523">.footer-container.jsx-1792980523{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.footer-left-span.jsx-1792980523{width:70px;}.copyright.jsx-1792980523{color:#999;font-size:0.8rem;text-align:center;padding:10px;}.footer-right-span.jsx-1792980523{color:#fff;font-size:1.5rem;text-align:right;}.footer-right-span.jsx-1792980523 a.jsx-1792980523:link,.footer-right-span.jsx-1792980523 a.jsx-1792980523:visited,.footer-right-span.jsx-1792980523 a.jsx-1792980523:hover,.footer-right-span.jsx-1792980523 a.jsx-1792980523:active{color:#fff;}.footer-right-span.jsx-1792980523 i.jsx-1792980523{padding-right:10px;}</style></head><body><div id="__next"><div id="layout"><div id="header" class="jsx-undefined"><div id="header-top" class="jsx-undefined"><div id="home" class="jsx-undefined"><div id="home-title" class="jsx-undefined"><a class="jsx-undefined" href="/">Build my Dreams with Codes</a></div><div id="home-title-sm" class="jsx-undefined"><a class="jsx-undefined" href="/">BDC</a></div></div><div id="menu" class="jsx-undefined"><a id="menu-about" class="jsx-undefined" href="/about/">About</a><i id="search-button-sm" class="jsx-undefined fa fa-search"></i><div id="search-container-id" class="jsx-undefined search-container"><span class="jsx-undefined icon"><i class="jsx-undefined fa fa-search"></i></span><input type="text" id="search" value="" class="jsx-undefined"/></div><div id="menu-button" class="jsx-undefined"><i class="jsx-undefined fas fa-bars"></i></div></div></div></div><div id="category" class="jsx-undefined"><div id="container-category" class="jsx-undefined"><div id="container-category-fixed" class="jsx-undefined"><div id="menu-close-button" class="jsx-undefined"><i class="jsx-undefined fas fa-times"></i></div><a class="jsx-undefined" href="/post/react/"><span class="jsx-undefined">React</span><span class="jsx-undefined">4</span></a><a class="jsx-undefined" href="/post/django/"><span class="jsx-undefined">Django</span><span class="jsx-undefined">3</span></a><a class="jsx-undefined" href="/post/javascript/"><span class="jsx-undefined">Javascript</span><span class="jsx-undefined">0</span></a><a class="jsx-undefined" href="/post/python/"><span class="jsx-undefined">Python</span><span class="jsx-undefined">0</span></a><a class="jsx-undefined" href="/post/htmlcss/"><span class="jsx-undefined">Html CSS</span><span class="jsx-undefined">1</span></a><a class="jsx-undefined" href="/post/backend/"><span class="jsx-undefined">Backend</span><span class="jsx-undefined">3</span></a><a class="jsx-undefined" href="/post/devlogs/"><span class="jsx-undefined">dev logs</span><span class="jsx-undefined">5</span></a></div></div></div><div id="content" class="jsx-undefined"><div class="jsx-undefined container"><div class="jsx-undefined"><h2 class="jsx-undefined index-h2-title">Latest Posts <i id="latest" class="jsx-undefined fas fa-comment"></i></h2><div class="jsx-undefined post-card"><div><h1>Kill the process occupying a specific port</h1><p>by Moondaddi on 2019-03-05</p><hr/><p>Sometimes you can encounter this error which says another process is already occupying the port. You can kill the app or process if you can, the problem is, sometimes it is not available. For example when app was teminated by abnormal ways, it remains and occupy the communication port in background.</p><h2>Check the current process using specific port</h2><pre><code class="hljs language-shell"><span class="hljs-meta">$</span><span class="bash"> lsof -i:3000</span>
<span class="hljs-meta">
#</span><span class="bash"> output</span>
COMMAND     PID   USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME
rust_grap 92304 myuser    3u  IPv4 0xffffffffffffffff      0t0  TCP localhost:arepa-cas (LISTEN)</code></pre><h2>Kill the process</h2><pre><code class="hljs language-shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">kill</span> -9 92304</span></code></pre><blockquote><p>use PID number (eg. 92304)</p></blockquote></div></div><div class="jsx-undefined post-card"><div><h1>Commands for Postgres DB initial setup</h1><p>by Moondaddi on 2019-02-25</p><hr/><h2>TL;DR;</h2><h2>Create DB</h2><pre><code class="hljs language-shell">postgres=# CREATE DATABASE [db_name];</code></pre><h2>Create User with Password</h2><pre><code class="hljs language-shell">postgres=# CREATE USER [myuser] WITH ENCRYPTED PASSWORD &#x27;[password]&#x27;;</code></pre><h2>Grant the privileges</h2><pre><code class="hljs language-shell">postgres=# GRANT ALL PRIVILEGES ON DATABASE [db_name] TO [myuser];</code></pre><h2>Grant a permission to create DB to user</h2><pre><code class="hljs language-shell">postgres=# ALTER USER [myuser] WITH CREATEDB;</code></pre></div></div><div class="jsx-undefined post-card"><div><h1>How to replace the Redux with React Hooks</h1><p>by moondaddi on 2019-02-11</p><hr/><h2>React Hooks release</h2><p>The React team released the React Hooks on version 16.8.0. (<a href="https://reactjs.org/docs/hooks-intro.html">https://reactjs.org/docs/hooks-intro.html</a>)</p><p>The Hooks are the new feature which can lead you not to use <code>class</code> anymore in your React app. There are, mainly, three basic hooks, <code>useState</code>, <code>useEffect</code> and <code>useContext</code>. Literally, <code>useState</code> is the state hook which allows you to use state in functional component. And <code>useEffect</code> is the effect hook which is working like lifecycle API, such as <code>componentDidMount()</code>, <code>componentWillUnmount()</code> and <code>componentDidUpdate()</code>. Lastly, <code>useContext</code> is the hook of <code>Context</code> created by <code>React.createContext()</code>.</p><p>Additionally, there are more hooks <code>useReducer</code>, <code>useCallback</code>, <code>useMemo</code>, <code>useRef</code>, etc.</p><h2><a href="https://react-redux.js.org/introduction/quick-start">React Redux</a></h2><p>The React Redux is the tool which let you manage the global state in centralized store and use the global state in any component inside the app. It enables you(especially, team size) to control the global state in encapsulated way.</p><h2>React Hooks instead of React Redux</h2><p>It is possible to replace the React Redux with React Hooks successfully without losing any good purpose of using React Redux with less code and more maintainability.</p><h3>Create the store (initValue + reducer)</h3><pre><code class="hljs language-javascript"><span class="hljs-comment">// HooduxStore.js</span>

<span class="hljs-keyword">const</span> initValue = {
  <span class="hljs-attr">isLogin</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">token</span>: <span class="hljs-string">&quot;&quot;</span>
};

<span class="hljs-keyword">const</span> reducer = <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> {
  <span class="hljs-keyword">switch</span> (action.type) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;setLogin&quot;</span>:
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">isLogin</span>: action.payload };
    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;setToken&quot;</span>:
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">token</span>: action.payload };
    <span class="hljs-keyword">default</span>:
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">&quot;wrong action.type&quot;</span>);
  }
};</code></pre><h3>Wrap the top level component(eg. App.js) with Context</h3><pre><code class="hljs language-javascript"><span class="hljs-comment">// App.js</span>

<span class="hljs-keyword">const</span> MyContext = React.createContext();

<span class="hljs-keyword">const</span> App = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> [state, dispatch] = useReducer(reducer, initValue);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">MyContext.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">state</span>, <span class="hljs-attr">dispatch</span> }}&gt;</span>
      </span>&lt;Header /&gt;<span class="xml">
      </span>&lt;LogIn /&gt;<span class="xml">
    <span class="hljs-tag">&lt;/<span class="hljs-name">MyContext.Provider</span>&gt;</span>
  );
};</span></code></pre><blockquote><p>You can use the context wrapper component in higher order if you like.</p></blockquote><h3>Pull and use <code>state</code> and <code>dispatch</code></h3><pre><code class="hljs language-javascript"><span class="hljs-comment">// Login.js</span>

<span class="hljs-keyword">const</span> { state, dispatch } = useContext(MyContext);

<span class="hljs-keyword">const</span> handleLogin = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  dispatch({ <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;setLogin&quot;</span>, <span class="hljs-attr">payload</span>: <span class="hljs-literal">true</span> });
};

<span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{state.isLogin ? &quot;You are logged in&quot; : &quot;Not logged in&quot;}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;</code></pre><h2>Conclusion</h2><p><code>useReducer</code> make a lot easier to pull and use the <code>state</code> and <code>dispatch</code> instead of using <code>connect()</code> in React Redux. If you&#x27;re familiar with it, you know how it works. In React Redux,every single component, you want to use <code>state</code> or <code>dispatch</code>, needs to be connected. But with <code>useReducer</code>, you need to call it just once in component if you want it to be.</p></div></div></div><div class="jsx-undefined"><h2 class="jsx-undefined index-h2-title pinned">Pinned Posts <i id="pinned" class="jsx-undefined fas fa-thumbtack"></i></h2><div class="jsx-undefined post">...</div></div></div></div><div id="footer" class="jsx-1792980523"><div class="jsx-1792980523 footer-container"><div class="jsx-1792980523 footer-left-span"></div><div class="jsx-1792980523 copyright"><div class="jsx-1792980523">Copyright © 2018 Moondaddi&#x27;s Blog</div><div class="jsx-1792980523">The source code is under MIT License</div></div><div class="jsx-1792980523 footer-right-span"><a href="mailto:woonki.moon@gmail.com" class="jsx-1792980523"><i class="jsx-1792980523 fas fa-envelope"></i></a><a href="https://github.com/mattdamon108" target="_blank" class="jsx-1792980523"><i class="jsx-1792980523 fab fa-github"></i></a></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/","query":{},"buildId":"DmTcGCUL9fzETrbP8ToCP","nextExport":true}</script><script async="" id="__NEXT_PAGE__/" src="/_next/static/DmTcGCUL9fzETrbP8ToCP/pages/index.js"></script><script async="" id="__NEXT_PAGE__/_app" src="/_next/static/DmTcGCUL9fzETrbP8ToCP/pages/_app.js"></script><script src="/_next/static/runtime/webpack-f0c6edbea5b547edc23f.js" async=""></script><script src="/_next/static/chunks/commons.298c115416bea8464748.js" async=""></script><script src="/_next/static/runtime/main-ea256225ecf9df19827a.js" async=""></script></body></html>
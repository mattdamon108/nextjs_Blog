__NEXT_REGISTER_CHUNK("posts_2018_12_18_AWS_EB_Load_Balancer_redirect_to_https_md_bc57af74c3d789fe74cd79be76fa4f43",function(){webpackJsonp([2],{266:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n.n(o),r=n(424);n.n(r);t.default=function(e){var t=e.components;!function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)n=c[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}}(e,["components"]);return a.a.createElement(r.MDXTag,{name:"wrapper",components:t},a.a.createElement(r.MDXTag,{name:"h1",components:t},"AWS Elastic Beanstalk makes redirect to HTTPS"),a.a.createElement(r.MDXTag,{name:"p",components:t},"by moondaddi on 2018-12-18"),a.a.createElement(r.MDXTag,{name:"hr",components:t}),a.a.createElement(r.MDXTag,{name:"h2",components:t},"Elastic Load balancer and Elastic Beanstalk"),a.a.createElement(r.MDXTag,{name:"p",components:t},"AWS Elastic Load balancer automatically distributes incoming application traffic across multiple AWS EC2. It enables your application's falut tolerance level higher and seamlessly providing the required amount of load balancing capacity needed to distribute application traffics."),a.a.createElement(r.MDXTag,{name:"p",components:t},"When you deploy your application whatever it's built with any language to Elastic Beanstalk, Elastic Beanstalk automatically performs all required process in deployment for your application. One of requirements is Elastic Load balancer in front of EC2 which is generated by Elastic Beanstalk."),a.a.createElement(r.MDXTag,{name:"p",components:t},"Elastic Load balancer is listening the port 80 as default. And you can set 443 port for HTTPS."),a.a.createElement(r.MDXTag,{name:"h2",components:t},"Redirect to HTTPS"),a.a.createElement(r.MDXTag,{name:"p",components:t},"Once everything sets up, You can access your application in Elastic Beanstalk through HTTP and also HTTPS."),a.a.createElement(r.MDXTag,{name:"p",components:t},"If you want all requests to port 80 to redirect to port 443, HTTPS, you can make ssl_redirect.config file in .ebextensions in your application root directory."),a.a.createElement(r.MDXTag,{name:"pre",components:t},a.a.createElement(r.MDXTag,{name:"code",components:t,parentName:"pre",props:{className:"hljs language-apache",metaString:""}},a.a.createElement(r.MDXTag,{name:"span",components:t,parentName:"code",props:{className:"hljs-attribute"}},"files"),':\n    "/',a.a.createElement(r.MDXTag,{name:"span",components:t,parentName:"code",props:{className:"hljs-attribute"}},"etc"),"/httpd/conf.d/ssl_redirect.conf",a.a.createElement(r.MDXTag,{name:"span",components:t,parentName:"code",props:{className:"hljs-string"}},'":\n        mode: "'),"000644",a.a.createElement(r.MDXTag,{name:"span",components:t,parentName:"code",props:{className:"hljs-string"}},'"\n        owner: root\n        group: root\n        content: |\n            RewriteEngine On\n            <If "'),"-n '",a.a.createElement(r.MDXTag,{name:"span",components:t,parentName:"code",props:{className:"hljs-variable"}},"%{HTTP:X-Forwarded-Proto}"),"' && ",a.a.createElement(r.MDXTag,{name:"span",components:t,parentName:"code",props:{className:"hljs-variable"}},"%{HTTP:X-Forwarded-Proto}")," != 'https'",a.a.createElement(r.MDXTag,{name:"span",components:t,parentName:"code",props:{className:"hljs-string"}},'">\n            RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [R,L]\n            </If>'))),a.a.createElement(r.MDXTag,{name:"h2",components:t},"How it works"),a.a.createElement(r.MDXTag,{name:"p",components:t},"During deployment of Elastic Beanstalk, it will check ",a.a.createElement(r.MDXTag,{name:"inlineCode",components:t,parentName:"p"},".ebextendsion")," directory if any ",a.a.createElement(r.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"*.config")," files there. If config file is found, Elastic Beanstalk will proceed it before applying the deployment of your application."),a.a.createElement(r.MDXTag,{name:"p",components:t},a.a.createElement(r.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"ssl_redirect.config")," file will be generated in path ",a.a.createElement(r.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"/etc/httpd/conf.d/")," and this will works for apache server to check any none https request and redirect it to https."))}},423:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withMDXComponents=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=i(n(1)),r=i(n(426)),c=i(n(157));function i(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.default)({}),l=s.Provider,p=s.Consumer;t.withMDXComponents=function(e){return function(t){var n=t.components,r=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,["components"]);return a.default.createElement(p,null,function(t){return a.default.createElement(e,o({components:n||t},r))})}};var u=function(e){var t=e.components,n=e.children;return a.default.createElement(l,{value:t},n)};u.propTypes={components:c.default.object.isRequired,children:c.default.element.isRequired},t.default=u},424:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(425);Object.defineProperty(t,"MDXTag",{enumerable:!0,get:function(){return r(o).default}});var a=n(423);function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"MDXProvider",{enumerable:!0,get:function(){return r(a).default}})},425:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(1),c=l(r),i=l(n(263)),s=n(423);function l(e){return e&&e.__esModule?e:{default:e}}var p={inlineCode:"code",wrapper:"div"},u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.parentName,a=e.props,r=void 0===a?{}:a,s=e.children,l=e.components,u=void 0===l?{}:l,f=e.Layout,m=e.layoutProps,d=u[n+"."+t]||u[t]||p[t]||t;return f?((0,i.default)(this,f),c.default.createElement(f,o({components:u},m),c.default.createElement(d,r,s))):c.default.createElement(d,r,s)}}]),t}();t.default=(0,s.withMDXComponents)(u)},426:function(e,t,n){"use strict";t.__esModule=!0;var o=r(n(1)),a=r(n(427));function r(e){return e&&e.__esModule?e:{default:e}}t.default=o.default.createContext||a.default,e.exports=t.default},427:function(e,t,n){"use strict";t.__esModule=!0;var o=n(1),a=(c(o),c(n(157))),r=c(n(428));c(n(429));function c(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=1073741823;t.default=function(e,t){var n,c,u="__create-react-context-"+(0,r.default)()+"__",f=function(e){function n(){var t,o,a,r;i(this,n);for(var c=arguments.length,l=Array(c),p=0;p<c;p++)l[p]=arguments[p];return t=o=s(this,e.call.apply(e,[this].concat(l))),o.emitter=(a=o.props.value,r=[],{on:function(e){r.push(e)},off:function(e){r=r.filter(function(t){return t!==e})},get:function(){return a},set:function(e,t){a=e,r.forEach(function(e){return e(a,t)})}}),s(o,t)}return l(n,e),n.prototype.getChildContext=function(){var e;return(e={})[u]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,o=e.value,a=void 0;((r=n)===(c=o)?0!==r||1/r==1/c:r!=r&&c!=c)?a=0:(a="function"==typeof t?t(n,o):p,0!=(a|=0)&&this.emitter.set(e.value,a))}var r,c},n.prototype.render=function(){return this.props.children},n}(o.Component);f.childContextTypes=((n={})[u]=a.default.object.isRequired,n);var m=function(t){function n(){var e,o;i(this,n);for(var a=arguments.length,r=Array(a),c=0;c<a;c++)r[c]=arguments[c];return e=o=s(this,t.call.apply(t,[this].concat(r))),o.state={value:o.getValue()},o.onUpdate=function(e,t){0!=((0|o.observedBits)&t)&&o.setState({value:o.getValue()})},s(o,e)}return l(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?p:t},n.prototype.componentDidMount=function(){this.context[u]&&this.context[u].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?p:e},n.prototype.componentWillUnmount=function(){this.context[u]&&this.context[u].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[u]?this.context[u].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(o.Component);return m.contextTypes=((c={})[u]=a.default.object,c),{Provider:f,Consumer:m}},e.exports=t.default},428:function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(t,n(261))},429:function(e,t,n){"use strict";var o=n(262);e.exports=o}})});
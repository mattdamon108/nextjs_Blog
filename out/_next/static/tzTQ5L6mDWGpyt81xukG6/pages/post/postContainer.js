(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{1:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=n(71);Object.defineProperty(a,"MDXTag",{enumerable:!0,get:function(){return r(t).default}});var o=n(47);function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"MDXProvider",{enumerable:!0,get:function(){return r(o).default}})},100:function(e,a,n){"use strict";n.r(a);var t=n(0),o=n.n(t),r=n(13),s=n(7),m=n.n(s),p=n(56);a.default=Object(r.withRouter)(function(e){if(e.router&&e.router.query&&e.router.query.filename){var a=e.router.query.filename,n=m.a.filter(function(e){return e.filename===a});return n.length>0?o.a.createElement(p.default,{post:n[0]}):o.a.createElement("div",null,"404!")}return o.a.createElement("div",null,"404!")})},13:function(e,a,n){e.exports=n(21)},293:function(e,a,n){__NEXT_REGISTER_PAGE("/post/postContainer",function(){return e.exports=n(100),{page:e.exports.default}})},4:function(e,a,n){"use strict";var t=n(2),o=n.n(t),r=n(0),s=n.n(r);a.a=function(){return s.a.createElement("div",{id:"header",className:"jsx-583156192"},s.a.createElement("div",{className:"jsx-583156192 container"},s.a.createElement("div",{className:"jsx-583156192 header-container"},s.a.createElement("div",{id:"header-title",className:"jsx-583156192"},s.a.createElement("a",{href:"/",className:"jsx-583156192"},"Build the Codes")),s.a.createElement("div",{id:"header-body",className:"jsx-583156192"},s.a.createElement("div",{id:"avatar-img",style:{backgroundImage:'url("/static/images/avatar/moondaddi_avatar.jpg")'},className:"jsx-583156192"}),s.a.createElement("div",{id:"profile",className:"jsx-583156192"},s.a.createElement("div",{id:"name",className:"jsx-583156192"},s.a.createElement("a",{href:"/",className:"jsx-583156192"},"moondaddi")),s.a.createElement("div",{className:"jsx-583156192"},"My dreams with Codes")),s.a.createElement("div",{id:"menu",className:"jsx-583156192"},s.a.createElement("div",{id:"header-tag",className:"jsx-583156192"},s.a.createElement("a",{href:"/tag",className:"jsx-583156192"},"Tags")))))),s.a.createElement(o.a,{styleId:"583156192",css:["#header.jsx-583156192{background-color:var(--background-color);color:white;}",".header-container.jsx-583156192{margin:0 1rem;padding:1rem 0;}","#header-title.jsx-583156192{display:block;position:relative;font-family:var(--text-san-serif);font-size:1.7rem;margin:1rem auto;font-weight:bold;}","#header-title.jsx-583156192 a.jsx-583156192{color:white;-webkit-text-decoration:none;text-decoration:none;}","#avatar-img.jsx-583156192{display:inline-block;-webkit-border-radius:25px;-moz-border-radius:25px;border-radius:25px;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;background-position:center center;vertical-align:middle;}","#profile.jsx-583156192{display:inline-block;vertical-align:middle;padding-left:1rem;font-family:$font-serif;color:$text-normal-color;font-size:0.9rem;}","#header-body.jsx-583156192{position:relative;}","#menu.jsx-583156192{display:inline-block;position:absolute;right:0;font-family:$font-serif;font-size:0.9rem;margin-top:1rem;}","#menu.jsx-583156192 #header-tag.jsx-583156192{display:inline-block;margin:auto 1rem;}"]}))}},47:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.withMDXComponents=void 0;var t,o=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},r=n(0),s=(t=r)&&t.__esModule?t:{default:t};var m=s.default.createContext({}),p=m.Provider,c=m.Consumer;a.withMDXComponents=function(e){return function(a){return s.default.createElement(c,null,function(n){return s.default.createElement(e,o({},a,{components:a.components||n}))})}};a.default=function(e){return s.default.createElement(p,{value:e.components},e.children)}},56:function(e,a,n){"use strict";n.r(a);var t=n(0),o=n.n(t),r=n(5),s=n(2),m=n.n(s),p=function(){return o.a.createElement("div",{id:"header",className:"jsx-3700472044"},o.a.createElement("div",{className:"jsx-3700472044 container"},o.a.createElement("div",{className:"jsx-3700472044 header-container"},o.a.createElement("div",{id:"header-title",className:"jsx-3700472044"},o.a.createElement("a",{href:"/",className:"jsx-3700472044"},"Build the Codes")),o.a.createElement("div",{id:"header-body",className:"jsx-3700472044"},o.a.createElement("div",{id:"menu",className:"jsx-3700472044"},o.a.createElement("div",{id:"header-blog",className:"jsx-3700472044"},o.a.createElement("a",{href:"/blog",className:"jsx-3700472044"},"Blog")),o.a.createElement("div",{id:"header-tag",className:"jsx-3700472044"},o.a.createElement("a",{href:"/tag",className:"jsx-3700472044"},"Tags")))))),o.a.createElement(m.a,{styleId:"3700472044",css:[".header-container.jsx-3700472044{position:relative;margin:0 1rem;}","#header-title.jsx-3700472044{display:inline-block;font-family:var(--text-san-serif);font-size:1.4rem;margin:1rem auto;font-weight:bold;}","#header-title.jsx-3700472044 a.jsx-3700472044{-webkit-text-decoration:none;text-decoration:none;}","#header-body.jsx-3700472044{display:inline-block;position:absolute;right:0;margin:1rem auto;text-align:right;}","#menu.jsx-3700472044{display:inline-block;font-size:0.9rem;}","#menu.jsx-3700472044 #header-blog.jsx-3700472044{display:inline-block;margin:auto 1rem;}","#menu.jsx-3700472044 #header-tag.jsx-3700472044{display:inline-block;margin:auto 1rem;}","@media (max-width:576px){#header-title.jsx-3700472044{margin:1rem auto 0 auto;}#header-body.jsx-3700472044{display:block;text-align:right;position:relative;margin:0 auto;}}"]}))},c=n(4);a.default=function(e){var a=n(69)("./".concat(e.post.filename,".md"));return o.a.createElement(o.a.Fragment,null,o.a.createElement(p,null),o.a.createElement("div",{id:"content"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"post-content"},o.a.createElement(a.default,null)))),o.a.createElement(c.a,null),o.a.createElement(r.a,null))}},69:function(e,a,n){var t={"./2018-08-24-First-Post.md":70,"./2018-08-24-Markdown-summary.md":72,"./2018-08-25-Making-virtualenv-for-Django.md":73,"./2018-08-28-File-upload-with-GraphQL-Apollo-Client-Django-Graphene.md":74,"./2018-08-30-How-to-align-element-to-vertical-center.md":75,"./2018-08-31-Nested-Comment-Reply-sturcture-with-ReactJS.md":76,"./2018-09-01-How-to-highlight-code-in-jekyll.md":77,"./2018-09-08-How-to-set-state-with-data-from-graphQL-query.md":78,"./2018-09-27-postmaster-pid-Location.md":79,"./2018-12-10-Netplan-how-to-connect-wpa2-linux.md":80,"./2018-12-18-AWS-EB-Load-Balancer-redirect-to-https.md":81,"./2018-12-24-Deploy-Prisma-Server-to-AWS-with-Docker.md":82,"./2019-01-11-Deploy-Nextjs-app-to-AWS-Lambda.md":83,"./2019-02-11-How-to-Replace-Redux-with-Hooks.md":84,"./2019-02-25-Commands-for-Postgres-DB-setup.md":85,"./2019-03-05-Kill-Process-Using-Port.md":86,"./2019-03-23-how-to-warm-lambda-function.md":87,"./2019-09-07-how-to-make-nuget-package.md":88};function o(e){var a=r(e);return n(a)}function r(e){var a=t[e];if(!(a+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return a}o.keys=function(){return Object.keys(t)},o.resolve=r,e.exports=o,o.id=69},7:function(e,a){e.exports=[{title:"Commands for Postgres DB initial Setup",createdAt:"2019-02-25",filename:"2019-02-25-Commands-for-Postgres-DB-setup",category:["backend"],tag:["postgres","db"],thumb:"2019-02-25_thumb.jpg",slug:"Create DB, TABLE, USER, permission"},{title:"Kill the process using port",createdAt:"2019-03-05",filename:"2019-03-05-Kill-Process-Using-Port",category:["devlogs"],tag:["macos","kill","port"],thumb:"2019-03-05_thumb.jpg",slug:"Kill the process occupying the TCP port in abnormal and unintended way."},{title:"File upload with GraphQL Apollo client & Django + Graphene",createdAt:"2018-08-28",filename:"2018-08-28-File-upload-with-GraphQL-Apollo-Client-Django-Graphene",category:["django"],tag:["django","graphql","graphene","apollo"],thumb:"2018-08-28_thumb.png",slug:"The Graphene is the pain."},{title:"Nested Comment Reply stucture with ReactJS",createdAt:"2018-08-31",filename:"2018-08-31-Nested-Comment-Reply-sturcture-with-ReactJS",category:["react"],tag:["react","comment"],thumb:"2018-08-31_thumb.jpg",slug:"Comment structure implementation"},{title:"Markdown summary",createdAt:"2018-08-24",filename:"2018-08-24-Markdown-summary",category:["devlogs"],tag:["markdown","summary"],thumb:"2018-08-24_thumb.png",slug:"Hard to remember"},{title:"First post",createdAt:"2018-08-24",filename:"2018-08-24-First-Post",category:["devlogs"],tag:["first","post"],thumb:"2018-08-24_thumb.jpg",slug:"A late start, but a Big step forward"},{title:"How to make a NuGet package for class library",createdAt:"2019-09-07",filename:"2019-09-07-how-to-make-nuget-package",category:["backend","dotnetcore",".net","core"],tag:["microsoft","dotnetcore"],thumb:"2019-09-07_thumb.jpg",slug:"Make a NuGet package with dotnet CLI"},{title:"How to warm your lambda function properly",createdAt:"2019-03-23",filename:"2019-03-23-how-to-warm-lambda-function",category:["backend"],tag:["aws","lambda"],thumb:"2019-03-23_thumb.jpg",slug:"Keep your lambda warm always"},{title:"How to set state with data from apollo grapqhQL query",createdAt:"2018-09-08",filename:"2018-09-08-How-to-set-state-with-data-from-graphQL-query",category:["react"],tag:["react","apollo","graphQL"],thumb:"2018-09-08_thumb.png",slug:"Prefill the data before component rendered"},{title:"How to Deploy the Next.js app to AWS Lambda",createdAt:"2019-01-11",filename:"2019-01-11-Deploy-Nextjs-app-to-AWS-Lambda",category:["react"],tag:["next","aws","lambda"],thumb:"2019-01-11_thumb.png",slug:"with Apex up"},{title:"How to replace the React Redux with Hooks",createdAt:"2019-02-11",filename:"2019-02-11-How-to-Replace-Redux-with-Hooks",category:["react"],tag:["hooks","redux"],thumb:"2019-02-11_thumb.png",slug:"React release the game-changer departing from Class programming way."},{title:"AWS Elastic Beanstalk makes redirect HTTP to HTTPS",createdAt:"2018-12-18",filename:"2018-12-18-AWS-EB-Load-Balancer-redirect-to-https",category:["backend"],tag:["aws","eb","elastic","beanstalk","redirect","https"],thumb:"2018-12-18_thumb.jpg",slug:"Sweet beanstalk"},{title:"Deploy the Prisma Server to AWS ECS and EC2 with Docker",createdAt:"2018-12-24",filename:"2018-12-24-Deploy-Prisma-Server-to-AWS-with-Docker",category:["backend"],tag:["aws","graphql","prisma","ecs"],thumb:"2018-12-24_thumb.png",slug:"Fix the bugs!"},{title:"Making virtualenv for staring Django project on MacOS",createdAt:"2018-08-25",filename:"2018-08-25-Making-virtualenv-for-Django",category:["django"],tag:["django","venv","virtualenv"],thumb:"2018-08-25_thumb.jpg",slug:"Hard to remember #2"},{title:"Some different ways to align element to vertical center",createdAt:"2018-08-30",filename:"2018-08-30-How-to-align-element-to-vertical-center",category:["htmlcss"],tag:["vertical","align"],thumb:"2018-08-30_thumb.jpeg",slug:"A Markup is one of tough task in web dev."},{title:"How to highlight code in jekyll post",createdAt:"2018-09-01",filename:"2018-09-01-How-to-highlight-code-in-jekyll",category:["devlogs"],tag:["jekyll","blog"],thumb:"2018-09-01_thumb.jpeg",slug:"The jekyll for Github page, but no more use..."},{title:"How to connect to wireless WPA2 with Netplan",createdAt:"2018-12-10",filename:"2018-12-10-Netplan-how-to-connect-wpa2-linux",category:["devlogs"],tag:["netplan","linux","wireless"],thumb:"2018-12-10_thumb.png",slug:"Hard to remember #3"},{title:"postmaster-pid File Location",createdAt:"2018-09-27",filename:"2018-09-27-postmaster-pid-Location",category:["django"],tag:["postgres","postmaster","db"],thumb:"2018-09-27_thumb.png",slug:"What the hell is `postmaster.pid`?"}]},70:function(e,a,n){"use strict";n.r(a),n.d(a,"title",function(){return u}),n.d(a,"createdAt",function(){return g}),n.d(a,"filename",function(){return d}),n.d(a,"category",function(){return h}),n.d(a,"tag",function(){return N}),n.d(a,"thumb",function(){return f}),n.d(a,"slug",function(){return E}),n.d(a,"default",function(){return T});var t=n(0),o=n.n(t),r=n(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function c(e,a){return!a||"object"!==s(a)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):a}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,a){return(i=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}var u="First post",g="2018-08-24T00:00:00.000Z",d="2018-08-24-First-Post",h=["devlogs"],N=["first","post"],f="2018-08-24_thumb.jpg",E="A late start, but a Big step forward",T=function(e){function a(e){var n;return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),(n=c(this,l(a).call(this,e))).layout=null,n}var n,t,s;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&i(e,a)}(a,o.a.Component),n=a,(t=[{key:"render",value:function(){var e=this.props,a=e.components;m(e,["components"]);return o.a.createElement(r.MDXTag,{name:"wrapper",components:a},o.a.createElement(r.MDXTag,{name:"h1",components:a},"First Post"),o.a.createElement(r.MDXTag,{name:"p",components:a},"by moondaddi on 2018-08-24"),o.a.createElement(r.MDXTag,{name:"hr",components:a}),o.a.createElement(r.MDXTag,{name:"h3",components:a},"Late start, but a big step forward"),o.a.createElement(r.MDXTag,{name:"p",components:a},"This is my first post of my Blog for storing codes while learnig and working on."))}}])&&p(n.prototype,t),s&&p(n,s),a}();T.isMDXComponent=!0},71:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t,o=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},r=function(){function e(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(a,n,t){return n&&e(a.prototype,n),t&&e(a,t),a}}(),s=n(0),m=(t=s)&&t.__esModule?t:{default:t},p=n(47);var c={inlineCode:"code",wrapper:"div"},l=function(e){function a(){return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?e:a}(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}(a,s.Component),r(a,[{key:"render",value:function(){var e=this.props,a=e.name,n=e.parentName,t=e.props,r=void 0===t?{}:t,s=e.children,p=e.components,l=void 0===p?{}:p,i=e.Layout,u=e.layoutProps,g=l[n+"."+a]||l[a]||c[a]||a;return i?m.default.createElement(i,o({components:l},u),m.default.createElement(g,r,s)):m.default.createElement(g,r,s)}}]),a}();a.default=(0,p.withMDXComponents)(l)},72:function(e,a,n){"use strict";n.r(a),n.d(a,"title",function(){return u}),n.d(a,"createdAt",function(){return g}),n.d(a,"filename",function(){return d}),n.d(a,"category",function(){return h}),n.d(a,"tag",function(){return N}),n.d(a,"thumb",function(){return f}),n.d(a,"slug",function(){return E}),n.d(a,"default",function(){return T});var t=n(0),o=n.n(t),r=n(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function c(e,a){return!a||"object"!==s(a)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):a}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,a){return(i=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}var u="Markdown summary",g="2018-08-24T00:00:00.000Z",d="2018-08-24-Markdown-summary",h=["devlogs"],N=["markdown","summary"],f="2018-08-24_thumb.png",E="Hard to remember",T=function(e){function a(e){var n;return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),(n=c(this,l(a).call(this,e))).layout=null,n}var n,t,s;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&i(e,a)}(a,o.a.Component),n=a,(t=[{key:"render",value:function(){var e=this.props,a=e.components;m(e,["components"]);return o.a.createElement(r.MDXTag,{name:"wrapper",components:a},o.a.createElement(r.MDXTag,{name:"h1",components:a},"Markdown Summary for future me"),o.a.createElement(r.MDXTag,{name:"p",components:a},"by moondaddi on 2018-08-24"),o.a.createElement(r.MDXTag,{name:"hr",components:a}),o.a.createElement(r.MDXTag,{name:"h3",components:a},"a Note for future me about Markdown syntax"),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Headers"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-markdown"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-section"}},"# H1"),"\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-section"}},"## H2"),"\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-section"}},"### H3"),"\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-section"}},"#### H4"),"\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-section"}},"##### H5"),"\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-section"}},"###### H6"))),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Blockquote"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-markdown"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-quote"}},"> This is a blockquote"))),o.a.createElement(r.MDXTag,{name:"blockquote",components:a},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"blockquote"},"This is a blockquote")),o.a.createElement(r.MDXTag,{name:"h2",components:a},"List"),o.a.createElement(r.MDXTag,{name:"h3",components:a},"1) Ordered"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-markdown"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-bullet"}},"1. "),"first\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-bullet"}},"2. "),"second\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-bullet"}},"3. "),"third")),o.a.createElement(r.MDXTag,{name:"ol",components:a},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ol"},"first"),o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ol"},"second"),o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ol"},"thrid")),o.a.createElement(r.MDXTag,{name:"h3",components:a},"2) UnOrdered"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-markdown"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-bullet"}},"- "),"Red\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-bullet"}},"  - "),"Green\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-bullet"}},"    - "),"Blue\n\nor '+', '-', '='")),o.a.createElement(r.MDXTag,{name:"ul",components:a},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},"Red",o.a.createElement(r.MDXTag,{name:"ul",components:a,parentName:"li"},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},"Green",o.a.createElement(r.MDXTag,{name:"ul",components:a,parentName:"li"},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},"Blue")))))),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Code"),o.a.createElement(r.MDXTag,{name:"p",components:a},"4 space spacing or 1 tab"),o.a.createElement(r.MDXTag,{name:"blockquote",components:a},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"blockquote"},"linebreak often breaks the markdown block")),o.a.createElement(r.MDXTag,{name:"h2",components:a},"5. Horizontal Line"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-markdown"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-section"}},"---\n---"),"\n---\n\n---\n\n---")),o.a.createElement(r.MDXTag,{name:"hr",components:a}),o.a.createElement(r.MDXTag,{name:"h2",components:a},"6. Link"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-markdown"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"<",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"https:"),"//",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"www.google.com"),">")),"\n[",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"Google"),"](",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-link"}},"https://www.google.com"),")")),o.a.createElement(r.MDXTag,{name:"p",components:a},o.a.createElement(r.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://www.google.com"}},"https://www.google.com"),o.a.createElement("br",null),"\n",o.a.createElement(r.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://www.google.com"}},"Google")),o.a.createElement(r.MDXTag,{name:"h2",components:a},"7. Text Style"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-markdown"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-emphasis"}},"_italic_")," or ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-emphasis"}},"_italic_"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-strong"}},"**bold**")," or ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-strong"}},"**bold**"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-strong"}},"**_italic bold_*"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-bullet"}},"* or *"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-strong"}},"*_italic bold_*"),"*\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"<",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"u"),">")),"underline",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"</",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"u"),">")),"\n~~canceline~~")),o.a.createElement(r.MDXTag,{name:"p",components:a},o.a.createElement(r.MDXTag,{name:"em",components:a,parentName:"p"},"italic"),o.a.createElement("br",null),"\n",o.a.createElement(r.MDXTag,{name:"strong",components:a,parentName:"p"},"bold"),o.a.createElement("br",null),"\n",o.a.createElement(r.MDXTag,{name:"strong",components:a,parentName:"p"},o.a.createElement(r.MDXTag,{name:"em",components:a,parentName:"strong"},"italic bold")),o.a.createElement("br",null),"\n",o.a.createElement("u",null,"underline"),o.a.createElement("br",null),"\n",o.a.createElement(r.MDXTag,{name:"del",components:a,parentName:"p"},"canceline")),o.a.createElement(r.MDXTag,{name:"h2",components:a},"8. Image"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-markdown"}},"![",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"Alt text"),"](",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-link"}},"/path/to/img.jpg"),")\n![",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"Alt text"),"](",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-link"}},'/path/to/img.jpg "Optional title"'),")")),o.a.createElement(r.MDXTag,{name:"blockquote",components:a},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"blockquote"},"Note: Size control is not supported.")),o.a.createElement(r.MDXTag,{name:"h2",components:a},"9. Line break"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-markdown"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"<",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"br")," />")))))}}])&&p(n.prototype,t),s&&p(n,s),a}();T.isMDXComponent=!0},73:function(e,a,n){"use strict";n.r(a),n.d(a,"title",function(){return u}),n.d(a,"createdAt",function(){return g}),n.d(a,"filename",function(){return d}),n.d(a,"category",function(){return h}),n.d(a,"tag",function(){return N}),n.d(a,"thumb",function(){return f}),n.d(a,"slug",function(){return E}),n.d(a,"default",function(){return T});var t=n(0),o=n.n(t),r=n(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function c(e,a){return!a||"object"!==s(a)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):a}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,a){return(i=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}var u="Making virtualenv for staring Django project on MacOS",g="2018-08-25T00:00:00.000Z",d="2018-08-25-Making-virtualenv-for-Django",h=["django"],N=["django","venv","virtualenv"],f="2018-08-25_thumb.jpg",E="Hard to remember",T=function(e){function a(e){var n;return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),(n=c(this,l(a).call(this,e))).layout=null,n}var n,t,s;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&i(e,a)}(a,o.a.Component),n=a,(t=[{key:"render",value:function(){var e=this.props,a=e.components;m(e,["components"]);return o.a.createElement(r.MDXTag,{name:"wrapper",components:a},o.a.createElement(r.MDXTag,{name:"h1",components:a},"Making virtualenv for staring Django project on MacOS"),o.a.createElement(r.MDXTag,{name:"p",components:a},"by moondaddi on 2018-08-25"),o.a.createElement(r.MDXTag,{name:"hr",components:a}),o.a.createElement(r.MDXTag,{name:"h3",components:a},"Commands examples to make a virtualenv and prerequisites for Django project start on MacOS"),o.a.createElement("br",null),o.a.createElement(r.MDXTag,{name:"blockquote",components:a},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"blockquote"},"The below commands are working only for MacOS")),o.a.createElement("br",null),o.a.createElement(r.MDXTag,{name:"h2",components:a},"1. Make the project foler"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," mkdir some_project"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-built_in"}},"cd")," some_project"))),o.a.createElement("br",null),o.a.createElement(r.MDXTag,{name:"h2",components:a},"2. Set up Virtualenv"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," python -m venv env_some_project"))),o.a.createElement(r.MDXTag,{name:"blockquote",components:a},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"blockquote"},"I'm using pyenv for version control of python")),o.a.createElement("br",null),o.a.createElement(r.MDXTag,{name:"h2",components:a},"3. Activate the virtualenv"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-built_in"}},"source")," ./env_some_project/bin/activate"))),o.a.createElement(r.MDXTag,{name:"blockquote",components:a},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"blockquote"},"Note: prefix (env_some_project) will appear when virtual env is activated successfully")),o.a.createElement("br",null),o.a.createElement(r.MDXTag,{name:"h2",components:a},"4. Install Django"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," pip3 install django"))),o.a.createElement("br",null),o.a.createElement(r.MDXTag,{name:"h2",components:a},"5. Start project"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," django-admin startproject some_project"))),o.a.createElement("br",null),o.a.createElement(r.MDXTag,{name:"h2",components:a},"6. Start app"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," python manage.py startapp some_app"))),o.a.createElement("br",null),o.a.createElement(r.MDXTag,{name:"h2",components:a},"7. settings.py"),o.a.createElement("br",null),o.a.createElement(r.MDXTag,{name:"h3",components:a},"7-1. Add app in ","[INSTALLED_APPS]"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-python"}},"INSTALLED_APPS = [\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'django.contrib.admin'"),",\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'django.contrib.auth'"),",\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'django.contrib.contenttypes'"),",\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'django.contrib.sessions'"),",\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'django.contrib.messages'"),",\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'django.contrib.staticfiles'"),",\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'django.contrib.humanize'"),",\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'some_app'"),",\n]")),o.a.createElement("br",null),o.a.createElement(r.MDXTag,{name:"h3",components:a},"7-2. Setting DB"),o.a.createElement(r.MDXTag,{name:"blockquote",components:a},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"blockquote"},"postgres")),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-python"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"if")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'RDS_DB_NAME'")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"in")," os.environ:\n    DATABASES = {\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'default'"),": {\n            ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'ENGINE'"),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'django.db.backends.postgresql_psycopg2'"),",\n            ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'NAME'"),": os.environ[",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'RDS_DB_NAME'"),"],\n            ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'USER'"),": os.environ[",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'RDS_USERNAME'"),"],\n            ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'PASSWORD'"),": os.environ[",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'RDS_PASSWORD'"),"],\n            ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'HOST'"),": os.environ[",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'RDS_HOSTNAME'"),"],\n            ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'PORT'"),": os.environ[",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'RDS_PORT'"),"],\n        }\n    }\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"else"),":\n    DATABASES = {\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'default'"),": {\n            ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'ENGINE'"),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'django.db.backends.postgresql_psycopg2'"),",\n            ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'NAME'"),": DB_NAME,\n            ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'USER'"),": DB_USER,\n            ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'PASSWORD'"),": DB_PASSWORD,\n            ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'HOST'"),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'localhost'"),",\n            ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'PORT'"),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"''"),",\n        }\n    }")))}}])&&p(n.prototype,t),s&&p(n,s),a}();T.isMDXComponent=!0},74:function(e,a,n){"use strict";n.r(a),n.d(a,"title",function(){return u}),n.d(a,"createdAt",function(){return g}),n.d(a,"filename",function(){return d}),n.d(a,"category",function(){return h}),n.d(a,"tag",function(){return N}),n.d(a,"thumb",function(){return f}),n.d(a,"slug",function(){return E}),n.d(a,"default",function(){return T});var t=n(0),o=n.n(t),r=n(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function c(e,a){return!a||"object"!==s(a)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):a}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,a){return(i=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}var u="File upload with GraphQL Apollo client & Django + Graphene",g="2018-08-28T00:00:00.000Z",d="2018-08-28-File-upload-with-GraphQL-Apollo-Client-Django-Graphene",h=["django"],N=["django","graphql","graphene","apollo"],f="2018-08-28_thumb.png",E="The Graphene is the pain.",T=function(e){function a(e){var n;return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),(n=c(this,l(a).call(this,e))).layout=null,n}var n,t,s;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&i(e,a)}(a,o.a.Component),n=a,(t=[{key:"render",value:function(){var e=this.props,a=e.components;m(e,["components"]);return o.a.createElement(r.MDXTag,{name:"wrapper",components:a},o.a.createElement(r.MDXTag,{name:"h1",components:a},"File upload with GraphQL Apollo client & Django + Graphene"),o.a.createElement(r.MDXTag,{name:"p",components:a},"by moondaddi on 2018-08-28"),o.a.createElement(r.MDXTag,{name:"hr",components:a}),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Requirements"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," pip install django"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," pip install graphene_django"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," pip install graphene-file-upload"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," pip install python-resize-image"))),o.a.createElement(r.MDXTag,{name:"ul",components:a},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},"Django==2.0.7"),o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},"graphene==2.1.2"),o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},"graphene-django==2.0.0"),o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},"graphene-file-upload==1.0.0"),o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},"graphql-core==2.0"),o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},"graphql-relay==0.4.5"),o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},"python-resize-image==1.1.11")),o.a.createElement("br",null),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Backend"),o.a.createElement(r.MDXTag,{name:"blockquote",components:a},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"blockquote"},"Mutation part")),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-python"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," graphene\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," graphene_django ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," DjangoObjectType\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," graphene_file_upload.scalars ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," Upload\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-class"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"class")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"CUDNewsBoard"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"(graphene.Mutation)"),":"),"\n  newsboard = graphene.Field(NewsBoardType)\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-class"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"class")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"Arguments"),":")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"# other arguments up here..."),"\n  files = Upload()\n\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"def")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"mutate"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"(self, info, files=None, ...)"),":"),"\n    user = info.context.user\n\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"if")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"not")," user.is_staff:\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"raise")," Exception(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'Admin permission is required!'"),")\n\n    post = NewsBoard(user=user, title=title, content=content)\n    post.save()\n\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"if")," files:\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"for")," file ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"in")," files:\n\n        postimage = NewsBoardImage(post=post, image=",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-literal"}},"None"),")\n        postimage.save()\n\n        image_obj = Image.open(file)\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"# resize image"),"\n        image_obj = resizeimage.resize_width(image_obj, ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"800"),", validate=",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-literal"}},"False"),")\n\n        new_image_io = BytesIO()\n        image_obj.save(new_image_io, image_obj.format)\n\n        temp_name = file.name\n\n        postimage.image.save(\n          temp_name,\n          content=ContentFile(new_image_io.getvalue())\n        )\n\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," CUDNewsBoard(newsboard=post)")),o.a.createElement("br",null),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Frontend"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-javascript"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," NEW_POST_NEWS = gql",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"`\nmutation postNew($files: Upload, ...) {\n  cudNewsboard(files: $files, ...) {\n    newsboard {\n      id\n      user {\n        id\n        fullname\n      }\n      title\n      content\n      firstDate\n      views\n      likes {\n        id\n      }\n      newsboardimages {\n        id\n        image\n      }\n    }\n  }\n}\n`"),";\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-class"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"class")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"BoardNewsInput")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"extends")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"Component")," "),"{\n  state = {\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"images"),": []\n  };\n\n  render() {\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," (\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"<",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"div"),">"),"\n        "),'<input\n          type="file"\n          name="image"\n          onChange={({\n            target: {\n              validity,\n              files: [file]\n            }\n          }) =>\n            validity.valid &&\n            this.setState({\n              images: [...this.state.images, file]\n            })\n          }\n        />\n        <Mutation\n          mutation={NEW_POST_NEWS}\n          variables={{\n            files: this.state.images ? this.state.images : null\n          }}\n        >\n          {(cudNewsboard, { loading, error, data }) => (\n            <button\n              onClick={() => {\n                cudNewsboard();\n              }}\n            >\n              POST\n            </button>\n          )}\n        </Mutation>\n      </div>',o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},"\n    );\n  }\n}"))),o.a.createElement("br",null),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Lesson & Learn"),o.a.createElement(r.MDXTag,{name:"ol",components:a},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ol"},"Array can be substitutive for FileList object in this case.")),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-javascript"}},"state = {\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"images"),": [file, file, file, ...]\n}")),o.a.createElement("br",null),o.a.createElement(r.MDXTag,{name:"ol",components:a,props:{start:2}},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ol"},"Input onChange method")),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-javascript"}},"<input\n  onChange={({ validity, ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"files"),": [file] }) =>\n    validity.valid &&\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"this"),".setState(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"prevState")," =>")," {\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"images"),": [...prevState.images, file];\n    })\n  }\n/>")),o.a.createElement("br",null),o.a.createElement(r.MDXTag,{name:"h2",components:a},"References"))}}])&&p(n.prototype,t),s&&p(n,s),a}();T.isMDXComponent=!0},75:function(e,a,n){"use strict";n.r(a),n.d(a,"title",function(){return u}),n.d(a,"createdAt",function(){return g}),n.d(a,"filename",function(){return d}),n.d(a,"category",function(){return h}),n.d(a,"tag",function(){return N}),n.d(a,"thumb",function(){return f}),n.d(a,"slug",function(){return E}),n.d(a,"default",function(){return T});var t=n(0),o=n.n(t),r=n(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function c(e,a){return!a||"object"!==s(a)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):a}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,a){return(i=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}var u="Some different ways to align element to vertical center",g="2018-08-30T00:00:00.000Z",d="2018-08-30-How-to-align-element-to-vertical-center",h=["htmlcss"],N=["vertical","align"],f="2018-08-30_thumb.jpeg",E="A Markup is one of tough task in web dev.",T=function(e){function a(e){var n;return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),(n=c(this,l(a).call(this,e))).layout=null,n}var n,t,s;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&i(e,a)}(a,o.a.Component),n=a,(t=[{key:"render",value:function(){var e=this.props,a=e.components;m(e,["components"]);return o.a.createElement(r.MDXTag,{name:"wrapper",components:a},o.a.createElement(r.MDXTag,{name:"h1",components:a},"Some different ways to align element to vertical center"),o.a.createElement(r.MDXTag,{name:"p",components:a},"by moondaddi on 2018-08-30"),o.a.createElement(r.MDXTag,{name:"hr",components:a}),o.a.createElement(r.MDXTag,{name:"h3",components:a},"Alignment to vertical center against wrapping parent element using CSS transform"),o.a.createElement("br",null),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Why is it special?"),o.a.createElement(r.MDXTag,{name:"p",components:a},"Generally, there are some tools and how-to to align element against parent element. But, in this case parent element has flexible width and height with fixed aspect ratio(1:1)."),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-html"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-tag"}},"<",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"div")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"class"),"=",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},'"card"'),">"),"\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-tag"}},"<",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"div")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"style"),"=",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},'"max-width:100%; padding-top:100%;"'),">"),"\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-tag"}},"<",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"img"),"\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"src"),"=",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},'"/some/thing.jpg"'),"\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"alt"),"=",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},'"something"'),"\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"style"),"=",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},'"\n        position:absolute\n        top:50%;\n        left:0;\n        max-width:100%;\n        transform:translateY(-50%);"'),"\n    />"),"\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-tag"}},"</",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"div"),">"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-tag"}},"</",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"div"),">"))),o.a.createElement("br",null),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Lesson & Learn"),o.a.createElement(r.MDXTag,{name:"p",components:a},"Use Flexbox! 👍"))}}])&&p(n.prototype,t),s&&p(n,s),a}();T.isMDXComponent=!0},76:function(e,a,n){"use strict";n.r(a),n.d(a,"title",function(){return u}),n.d(a,"createdAt",function(){return g}),n.d(a,"filename",function(){return d}),n.d(a,"category",function(){return h}),n.d(a,"tag",function(){return N}),n.d(a,"thumb",function(){return f}),n.d(a,"slug",function(){return E}),n.d(a,"default",function(){return T});var t=n(0),o=n.n(t),r=n(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function c(e,a){return!a||"object"!==s(a)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):a}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,a){return(i=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}var u="Nested Comment Reply stucture with ReactJS",g="2018-08-31T00:00:00.000Z",d="2018-08-31-Nested-Comment-Reply-sturcture-with-ReactJS",h=["react"],N=["react","comment"],f="2018-08-31_thumb.jpg",E="Comment structure implementation",T=function(e){function a(e){var n;return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),(n=c(this,l(a).call(this,e))).layout=null,n}var n,t,s;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&i(e,a)}(a,o.a.Component),n=a,(t=[{key:"render",value:function(){var e=this.props,a=e.components;m(e,["components"]);return o.a.createElement(r.MDXTag,{name:"wrapper",components:a},o.a.createElement(r.MDXTag,{name:"h1",components:a},"Nested Comment Reply stucture with ReactJS"),o.a.createElement(r.MDXTag,{name:"p",components:a},"by moondaddi on 2018-08-31"),o.a.createElement(r.MDXTag,{name:"hr",components:a}),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Nested Comment Reply structure?"),o.a.createElement(r.MDXTag,{name:"p",components:a},o.a.createElement(r.MDXTag,{name:"img",components:a,parentName:"p",props:{src:"/static/images/post_img/2018-08-31_nested-structure.jpg",alt:"Nested Comment Structure"}})),o.a.createElement("br",null),o.a.createElement(r.MDXTag,{name:"h2",components:a},"How-to with ReactJS"),o.a.createElement(r.MDXTag,{name:"p",components:a},"It can be resolve with loop structures with ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"<Comment />")," and ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"<Comments>")),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-javascript"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," Comments = ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},"(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"{ items, postId, commentId, level, history }"),") =>")," {\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"if")," (items) {\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," items.map(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"item")," =>")," {\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"if")," (!item.parentComment || level !== ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"0"),") {\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," (\n          ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"<",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"Comment"),"\n            ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"item"),"=",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},"{item}"),"\n            ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"postId"),"=",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},"{postId}"),"\n            ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"parentCommentId"),"=",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},"{commentId}"),"\n            ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"key"),"=",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},"{item.id}"),"\n            ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"level"),"=",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},"{level}"),"\n            ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"history"),"=",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},"{history}"),"\n          />"),"\n        );\n      } else {\n        return null;\n      }\n    });\n  } else {\n    return null;\n  }\n};\n\nclass Comment extends React.Component {\n  render() {\n    return (\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"<>"),"\n        {this.props.item.recomment.length > 0 ? (\n          "),"<Comments\n            items={data.qnaboardcomment}\n            postId={this.props.postId}\n            level={this.props.level + 1}\n            history={this.props.history}\n            commentId={this.props.item.id}\n          />\n        ) : null}\n      </>\n    );\n  }\n}")))}}])&&p(n.prototype,t),s&&p(n,s),a}();T.isMDXComponent=!0},77:function(e,a,n){"use strict";n.r(a),n.d(a,"title",function(){return u}),n.d(a,"createdAt",function(){return g}),n.d(a,"filename",function(){return d}),n.d(a,"category",function(){return h}),n.d(a,"tag",function(){return N}),n.d(a,"thumb",function(){return f}),n.d(a,"slug",function(){return E}),n.d(a,"default",function(){return T});var t=n(0),o=n.n(t),r=n(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function c(e,a){return!a||"object"!==s(a)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):a}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,a){return(i=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}var u="How to highlight code in jekyll post",g="2018-09-01T00:00:00.000Z",d="2018-09-01-How-to-highlight-code-in-jekyll",h=["devlogs"],N=["jekyll","blog"],f="2018-09-01_thumb.jpeg",E="The jekyll for Github page, but no more use...",T=function(e){function a(e){var n;return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),(n=c(this,l(a).call(this,e))).layout=null,n}var n,t,s;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&i(e,a)}(a,o.a.Component),n=a,(t=[{key:"render",value:function(){var e=this.props,a=e.components;m(e,["components"]);return o.a.createElement(r.MDXTag,{name:"wrapper",components:a},o.a.createElement(r.MDXTag,{name:"h1",components:a},"How to highlight code in jekyll post"),o.a.createElement(r.MDXTag,{name:"p",components:a},"by moondaddi on 2018-09-01"),o.a.createElement(r.MDXTag,{name:"hr",components:a}),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Check ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"h2"},"_config.yml")),o.a.createElement(r.MDXTag,{name:"p",components:a},"highlighter: rouge"),o.a.createElement("br",null),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Usage - ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"h2"},"Liquid templating")),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-rb"}},"{% highlight some-language %}\n...\n{% endhighlight %}")))}}])&&p(n.prototype,t),s&&p(n,s),a}();T.isMDXComponent=!0},78:function(e,a,n){"use strict";n.r(a),n.d(a,"title",function(){return u}),n.d(a,"createdAt",function(){return g}),n.d(a,"filename",function(){return d}),n.d(a,"category",function(){return h}),n.d(a,"tag",function(){return N}),n.d(a,"thumb",function(){return f}),n.d(a,"slug",function(){return E}),n.d(a,"default",function(){return T});var t=n(0),o=n.n(t),r=n(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function c(e,a){return!a||"object"!==s(a)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):a}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,a){return(i=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}var u="How to set state with data from apollo grapqhQL query",g="2018-09-08T00:00:00.000Z",d="2018-09-08-How-to-set-state-with-data-from-graphQL-query",h=["react"],N=["react","apollo","graphQL"],f="2018-09-08_thumb.png",E="Prefill the data before component rendered",T=function(e){function a(e){var n;return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),(n=c(this,l(a).call(this,e))).layout=null,n}var n,t,s;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&i(e,a)}(a,o.a.Component),n=a,(t=[{key:"render",value:function(){var e=this.props,a=e.components;m(e,["components"]);return o.a.createElement(r.MDXTag,{name:"wrapper",components:a},o.a.createElement(r.MDXTag,{name:"h1",components:a},"How to set state with data from apollo grapqhQL query"),o.a.createElement(r.MDXTag,{name:"p",components:a},"by moondaddi on 2018-09-08"),o.a.createElement(r.MDXTag,{name:"hr",components:a}),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Prefill the form with query data"),o.a.createElement(r.MDXTag,{name:"ul",components:a},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},"prefill values into form or render data into DOM after query"),o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},"modify data after query")),o.a.createElement("br",null),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Solution 1"),o.a.createElement(r.MDXTag,{name:"h3",components:a},"in componentDidMount()"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-javascript"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," React ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"react"'),";\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," { Query } ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"react-apollo"'),";\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-class"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"class")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"Example")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"extends")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"React"),".",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"Component")," "),"{\n  state = {\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"some"),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-literal"}},"null"),"\n  };\n\n  componentDidMount() {\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"this"),"._queryMe\n      .query({\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"query"),": other - query,\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"variables"),": { ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"some"),": thing }\n      })\n      .then(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"response")," =>")," {\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"this"),".setState({\n          ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"some"),": data.me.nickname\n        });\n      })\n      .catch(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"error")," =>")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"console"),".log(error));\n  }\n\n  render() {\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," (\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"<",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"Query")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"query"),"=",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},"{some")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"-")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"query"),"}>"),"\n        {({ client }) => {\n          this._queryMe = client;\n\n          return null;\n        }}\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"</",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"Query"),">")),"\n    );\n  }\n}")),o.a.createElement(r.MDXTag,{name:"h3",components:a},"props function : onCompleted"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-javascript"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," React ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'react'"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," { Query } ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'react-apollo'"),"\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-class"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"class")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"Example")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"extends")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"React"),".",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"Component")," "),"{\n  state = {\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"some"),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-literal"}},"null"),"\n  }\n\n  _queryMe = ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"data")," =>")," {\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"this"),".setState({\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"some"),": data\n    })\n  }\n\n  render() {\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," (\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"<",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"Query"),"\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"query"),"=",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},"{some-query}"),"\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"onCompleted"),"=",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},"{data")," =>")," this.\\_queryMe(data)}\n      >\n        {() => {\n          return null;\n        }}\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"</",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"Query"),">")),"\n    )\n  }\n}")),o.a.createElement("br",null),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Solution 2 (The BEST 👍)"),o.a.createElement(r.MDXTag,{name:"p",components:a},"Using HOC withApollo"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-javascript"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-class"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"class")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"Example")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"extends")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"React"),".",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"Component")," "),"{\n  state = {\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"some"),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-literal"}},"null"),"\n  };\n\n  componentDidMount() {\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"this"),".props.client\n      .query({\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"query"),": some_query,\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"variables"),": {\n          ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"id"),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"1"),"\n        }\n      })\n      .then(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"res")," =>"),"\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"this"),".setState({\n          ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"some"),": res\n        })\n      );\n  }\n\n  render() {\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"<",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"div"),">"),"...",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"</",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"div"),">")),";\n  }\n}\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// using HOC"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"export")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"default")," withApollo(Example);")))}}])&&p(n.prototype,t),s&&p(n,s),a}();T.isMDXComponent=!0},79:function(e,a,n){"use strict";n.r(a),n.d(a,"title",function(){return u}),n.d(a,"createdAt",function(){return g}),n.d(a,"filename",function(){return d}),n.d(a,"category",function(){return h}),n.d(a,"tag",function(){return N}),n.d(a,"thumb",function(){return f}),n.d(a,"slug",function(){return E}),n.d(a,"default",function(){return T});var t=n(0),o=n.n(t),r=n(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function c(e,a){return!a||"object"!==s(a)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):a}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,a){return(i=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}var u="postmaster-pid File Location",g="2018-09-27T00:00:00.000Z",d="2018-09-27-postmaster-pid-Location",h=["django"],N=["postgres","postmaster","db"],f="2018-09-27_thumb.png",E="What the hell is `postmaster.pid`?",T=function(e){function a(e){var n;return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),(n=c(this,l(a).call(this,e))).layout=null,n}var n,t,s;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&i(e,a)}(a,o.a.Component),n=a,(t=[{key:"render",value:function(){var e=this.props,a=e.components;m(e,["components"]);return o.a.createElement(r.MDXTag,{name:"wrapper",components:a},o.a.createElement(r.MDXTag,{name:"h1",components:a},"'postmaster.pid' File Location"),o.a.createElement(r.MDXTag,{name:"p",components:a},"by Moondaddi on 2018-09-27"),o.a.createElement(r.MDXTag,{name:"hr",components:a}),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Where is the 'postmaster.pid'?"),o.a.createElement(r.MDXTag,{name:"p",components:a},"Time to time, I encounter the error when I try to start PostgreSQL DB again. Especially, right after cold power-off, it comes a lot to me. If you use GUI interface of PostgreSQL, it gives you a long instruction failed to start properly. But, simply, you can start again after delete this 'postmaster.pid' file in your macOS system."),o.a.createElement("br",null),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Location of 'postmaster.pid'"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},"/Users/user_name/Library/Application Support/Postgres/var-10")),o.a.createElement(r.MDXTag,{name:"blockquote",components:a},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"blockquote"},"Note: PostgreSQL ver. 10, it can be changed depends on what version of postgres you use.")))}}])&&p(n.prototype,t),s&&p(n,s),a}();T.isMDXComponent=!0},80:function(e,a,n){"use strict";n.r(a),n.d(a,"title",function(){return u}),n.d(a,"createdAt",function(){return g}),n.d(a,"filename",function(){return d}),n.d(a,"category",function(){return h}),n.d(a,"tag",function(){return N}),n.d(a,"thumb",function(){return f}),n.d(a,"slug",function(){return E}),n.d(a,"default",function(){return T});var t=n(0),o=n.n(t),r=n(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function c(e,a){return!a||"object"!==s(a)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):a}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,a){return(i=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}var u="How to connect to wireless WPA2 with Netplan",g="2018-12-10T00:00:00.000Z",d="2018-12-10-Netplan-how-to-connect-wpa2-linux",h=["devlogs"],N=["netplan","linux","wireless"],f="2018-12-10_thumb.png",E="Hard to remember",T=function(e){function a(e){var n;return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),(n=c(this,l(a).call(this,e))).layout=null,n}var n,t,s;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&i(e,a)}(a,o.a.Component),n=a,(t=[{key:"render",value:function(){var e=this.props,a=e.components;m(e,["components"]);return o.a.createElement(r.MDXTag,{name:"wrapper",components:a},o.a.createElement(r.MDXTag,{name:"h1",components:a},"[Linux]"," How to connect to wireless WPA2 with Netplan"),o.a.createElement(r.MDXTag,{name:"p",components:a},"by moondaddi on 2018-12-10"),o.a.createElement(r.MDXTag,{name:"hr",components:a}),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Netplan?"),o.a.createElement(r.MDXTag,{name:"p",components:a},"Netplan is the utility for easily configuring networking on a linux system. Ubuntu 17.10 starts including the netplan by default instead of deprecated ifupdown."),o.a.createElement(r.MDXTag,{name:"h2",components:a},"How to connect"),o.a.createElement(r.MDXTag,{name:"h3",components:a},"Check the network interface"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," ifconfig -a"))),o.a.createElement(r.MDXTag,{name:"h3",components:a},"Configure ","*",".yaml"),o.a.createElement(r.MDXTag,{name:"p",components:a},"Make new file with any name ","*",".yaml in ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"/etc/netplan"),"\nYou can make as many configuration files as you want. In that case, ","*",".yaml files will be applied by alphbetically."),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},'network:\n  version: 2\n    renderer: networkd\n    ethernets:  # this is for lan\n      enp2s0:\n        addresses: []\n        dhcp4: true\n    wifis:  # this is for wlan\n      wlp3s0:  # wlan interface\n        access-points: "SSID":  # your SSID\n          password: "PASWORD"  # your PASSWORD\n        dhcp4: no\n        dhcp6: true\n        addresses: [192.168.0.200/24]  # set the static IP\n        gateway4: 192.168.0.1  # gateway\n        nameservers:\n          addresses: [192.168.0.1,8.8.8.8,8.8.4.4]')),o.a.createElement(r.MDXTag,{name:"blockquote",components:a},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"blockquote"},"How to check wlan interface")),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," iwconfig"))),o.a.createElement(r.MDXTag,{name:"h3",components:a},"Generate conf"),o.a.createElement(r.MDXTag,{name:"p",components:a},"The configuration files ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"/etc/netplan/*.yaml")," needs to be generated before applying to system. The ",o.a.createElement(r.MDXTag,{name:"em",components:a,parentName:"p"},".conf files will be generated in `/run/netplan/"),".conf` which shadow completely YAML files."),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," sudo netplan --debug generate"))),o.a.createElement(r.MDXTag,{name:"h3",components:a},"Apply the generated conf"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," sudo netplan apply"))),o.a.createElement(r.MDXTag,{name:"h3",components:a},"References"),o.a.createElement(r.MDXTag,{name:"p",components:a},"Netplan reference page (",o.a.createElement(r.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://netplan.io/reference"}},"https://netplan.io/reference"),")"))}}])&&p(n.prototype,t),s&&p(n,s),a}();T.isMDXComponent=!0},81:function(e,a,n){"use strict";n.r(a),n.d(a,"title",function(){return u}),n.d(a,"createdAt",function(){return g}),n.d(a,"filename",function(){return d}),n.d(a,"category",function(){return h}),n.d(a,"tag",function(){return N}),n.d(a,"thumb",function(){return f}),n.d(a,"slug",function(){return E}),n.d(a,"default",function(){return T});var t=n(0),o=n.n(t),r=n(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function c(e,a){return!a||"object"!==s(a)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):a}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,a){return(i=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}var u="AWS Elastic Beanstalk makes redirect HTTP to HTTPS",g="2018-12-18T00:00:00.000Z",d="2018-12-18-AWS-EB-Load-Balancer-redirect-to-https",h=["backend"],N=["aws","eb","elastic","beanstalk","redirect","https"],f="2018-12-18_thumb.jpg",E="Sweet beanstalk",T=function(e){function a(e){var n;return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),(n=c(this,l(a).call(this,e))).layout=null,n}var n,t,s;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&i(e,a)}(a,o.a.Component),n=a,(t=[{key:"render",value:function(){var e=this.props,a=e.components;m(e,["components"]);return o.a.createElement(r.MDXTag,{name:"wrapper",components:a},o.a.createElement(r.MDXTag,{name:"h1",components:a},"AWS Elastic Beanstalk makes redirect to HTTPS"),o.a.createElement(r.MDXTag,{name:"p",components:a},"by moondaddi on 2018-12-18"),o.a.createElement(r.MDXTag,{name:"hr",components:a}),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Elastic Load balancer and Elastic Beanstalk"),o.a.createElement(r.MDXTag,{name:"p",components:a},"AWS Elastic Load balancer automatically distributes incoming application traffic across multiple AWS EC2. It enables your application's falut tolerance level higher and seamlessly providing the required amount of load balancing capacity needed to distribute application traffics."),o.a.createElement(r.MDXTag,{name:"p",components:a},"When you deploy your application whatever it's built with any language to Elastic Beanstalk, Elastic Beanstalk automatically performs all required process in deployment for your application. One of requirements is Elastic Load balancer in front of EC2 which is generated by Elastic Beanstalk."),o.a.createElement(r.MDXTag,{name:"p",components:a},"Elastic Load balancer is listening the port 80 as default. And you can set 443 port for HTTPS."),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Redirect to HTTPS"),o.a.createElement(r.MDXTag,{name:"p",components:a},"Once everything sets up, You can access your application in Elastic Beanstalk through HTTP and also HTTPS."),o.a.createElement(r.MDXTag,{name:"p",components:a},"If you want all requests to port 80 to redirect to port 443, HTTPS, you can make ssl_redirect.config file in .ebextensions in your application root directory."),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-apache"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attribute"}},"files"),':\n    "/',o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attribute"}},"etc"),"/httpd/conf.d/ssl_redirect.conf",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'":\n        mode: "'),"000644",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"\n        owner: root\n        group: root\n        content: |\n            RewriteEngine On\n            <If "'),"-n '",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-variable"}},"%{HTTP:X-Forwarded-Proto}"),"' && ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-variable"}},"%{HTTP:X-Forwarded-Proto}")," != 'https'",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'">\n            RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [R,L]\n            </If>'))),o.a.createElement(r.MDXTag,{name:"h2",components:a},"How it works"),o.a.createElement(r.MDXTag,{name:"p",components:a},"During deployment of Elastic Beanstalk, it will check ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},".ebextendsion")," directory if any ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"*.config")," files there. If config file is found, Elastic Beanstalk will proceed it before applying the deployment of your application."),o.a.createElement(r.MDXTag,{name:"p",components:a},o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"ssl_redirect.config")," file will be generated in path ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"/etc/httpd/conf.d/")," and this will works for apache server to check any none https request and redirect it to https."))}}])&&p(n.prototype,t),s&&p(n,s),a}();T.isMDXComponent=!0},82:function(e,a,n){"use strict";n.r(a),n.d(a,"title",function(){return u}),n.d(a,"createdAt",function(){return g}),n.d(a,"filename",function(){return d}),n.d(a,"category",function(){return h}),n.d(a,"tag",function(){return N}),n.d(a,"thumb",function(){return f}),n.d(a,"slug",function(){return E}),n.d(a,"default",function(){return T});var t=n(0),o=n.n(t),r=n(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function c(e,a){return!a||"object"!==s(a)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):a}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,a){return(i=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}var u="Deploy the Prisma Server to AWS ECS and EC2 with Docker",g="2018-12-24T00:00:00.000Z",d="2018-12-24-Deploy-Prisma-Server-to-AWS-with-Docker",h=["backend"],N=["aws","graphql","prisma","ecs"],f="2018-12-24_thumb.png",E="Fix the bugs!",T=function(e){function a(e){var n;return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),(n=c(this,l(a).call(this,e))).layout=null,n}var n,t,s;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&i(e,a)}(a,o.a.Component),n=a,(t=[{key:"render",value:function(){var e=this.props,a=e.components;m(e,["components"]);return o.a.createElement(r.MDXTag,{name:"wrapper",components:a},o.a.createElement(r.MDXTag,{name:"h1",components:a},"Deploy the Prisma Server to the AWS EC2 with Docker"),o.a.createElement(r.MDXTag,{name:"p",components:a},"by moondaddi on 2018-12-24"),o.a.createElement(r.MDXTag,{name:"hr",components:a}),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Prisma?"),o.a.createElement(r.MDXTag,{name:"p",components:a},"Simply, the ",o.a.createElement(r.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://www.prisma.io/"}},"Prisma")," is the new ORM(",o.a.createElement(r.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://en.wikipedia.org/wiki/Object-relational_mapping"}},"Object Relational Mapping"),") based on GraphQL query language. The Prisma can make your whole workflow to set up the graphQL API a lot easier. All you need is only graphQL schema in order to set up the graphQL API."),o.a.createElement(r.MDXTag,{name:"blockquote",components:a},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"blockquote"},"ex. GraphQL schema")),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js"}},"type Tweet {\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"id"),": ID! @unique\n  createdAt: DateTime!\n  text: ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"String"),"!\n  owner: User!\n  location: Location!\n}\n\ntype User {\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"id"),": ID! @unique\n  createdAt: DateTime!\n  updatedAt: DateTime!\n  handle: ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"String"),"! @unique\n  name: ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"String"),"\n  tweets: [Tweet!]!\n}\n\ntype Location {\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"latitude"),": Float!\n  longitude: Float!\n}")),o.a.createElement(r.MDXTag,{name:"p",components:a},"If you make your graphQL schema to ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"datamodel.prisma")," file. It's all set. Prisma will deploy your schema to the connected DB(Prisma Cloud or your Remote DB/Local DB) and generate all kind of graphQL schema (types and resolvers) for you automatically. Fantastic, isn't it?"),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Structure"),o.a.createElement(r.MDXTag,{name:"p",components:a},o.a.createElement(r.MDXTag,{name:"img",components:a,parentName:"p",props:{src:"/static/images/post_img/2018-12-24_prisma_structure.jpg",alt:"Prisma structure"}})),o.a.createElement(r.MDXTag,{name:"blockquote",components:a},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"blockquote"},"GraphQL API Server = GraphQL API + Prisma Server")),o.a.createElement(r.MDXTag,{name:"p",components:a},"Prisma API Server consists of two parts, ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"GraphQL API")," + ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Prisma Server"),". GraphQL API is the backend layer which contains your business logic, such as querying users, sign up, log in, locations, and so on. You can set it up with Express or GraphQL Yoga, etc. Otherwise, Prisma Server means the backend server which contains all the graphQL schema as per your data model and is connected to database. Prisma suggests the Docker in order to set up Prisma Server."),o.a.createElement(r.MDXTag,{name:"p",components:a},"This post will explain how to deploy this Prisma Server to AWS ECS and ECR service."),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Deploy the Prisma Server"),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Requirements"),o.a.createElement(r.MDXTag,{name:"ul",components:a},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"li"},"Docker"),o.a.createElement(r.MDXTag,{name:"blockquote",components:a,parentName:"li"},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"blockquote"},"(for mac) ",o.a.createElement(r.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://hub.docker.com/editions/community/docker-ce-desktop-mac"}},"https://hub.docker.com/editions/community/docker-ce-desktop-mac")))),o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"li"},"Prisma Cli"))),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," npm i -g prisma"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"#"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," or"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," yarn global add prisma"))),o.a.createElement(r.MDXTag,{name:"h2",components:a},"(Option 1) Using Docker machine"),o.a.createElement(r.MDXTag,{name:"p",components:a},"This is using docker-machine in cli. The docker-machine will create a docker machine on AWS EC2 directly. and docker-compose will compose the prisma server along with ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"docker-compse.yml")," in docker-machine."),o.a.createElement(r.MDXTag,{name:"h3",components:a},"Create the docker machine on AWS EC2"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," docker-machine create --driver amazonec2 --amazonec2-region ap-northeast-2 --amazonec2-vpc-id __SPECIFIC_VPC__ prisma-server-example"))),o.a.createElement(r.MDXTag,{name:"ul",components:a},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},"If creating EC2 instance is failed, check your AWS credentials and IAM policy.")),o.a.createElement(r.MDXTag,{name:"h3",components:a},"Activate new machine as active host"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," docker-machine prisma-server-example"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-built_in"}},"eval")," $(docker-machine env prisma-server-example)"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"\n#"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," check docker-machine"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," docker-machine ls"))),o.a.createElement(r.MDXTag,{name:"h3",components:a},o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"h3"},"docker-compose.yml")," file"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-yml"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"version:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"3"'),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"services:"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"  prisma:"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"    image:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"prismagraphql/prisma:1.23"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"    restart:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"always"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"    ports:"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-bullet"}},"      -")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"4466:4466"'),"\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"# logging available in AWS CloudWatch"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"    logging:"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"      driver:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"awslogs"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"      options:"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"        awslogs-group:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"__AWSLOG_GROUP__"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"        awslogs-region:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"ap-northeast-2"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"        awslogs-stream-prefix:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"__AWSLOG_STREAM_PREFIX__"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"    environment:"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"      PRISMA_CONFIG:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"|\n"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"        port:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"4466"),"\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"# managementApiSecret: __SECRET_KEY__"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"        databases:"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"          default:"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"            connector:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"postgres")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"# PostgreSQL"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"            host:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"__AWS_RDS_HOST__"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"            database:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"__DB_NAME__"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"            schema:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"__DB_SCHEMA__"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"            user:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"__DB_USERNAME__"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"            password:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"__DB_PASSWORD__"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"            rawAccess:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-literal"}},"true"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"            port:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"5432"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"            migrations:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-literal"}},"false"))),o.a.createElement(r.MDXTag,{name:"h3",components:a},"Compose Prisma Server in new docker machine"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},"docker compose up -d")),o.a.createElement(r.MDXTag,{name:"h3",components:a},"Assign security group and check inbound rules"),o.a.createElement(r.MDXTag,{name:"ul",components:a},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},"Basically, EC2 is assigned new security group as defalut. You need to check its inbound rule and open 4466 port.")),o.a.createElement(r.MDXTag,{name:"h3",components:a},"Set the elastic load balancer (optional)"),o.a.createElement(r.MDXTag,{name:"h3",components:a},"Modify prisma.yml"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-yml"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"endpoint:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"http://__AWS_EC2_ADDRESS__:4466"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"datamodel:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"datamodel.prisma"),"\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"generate:"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"  - generator:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"javascript-client"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"    output:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"./generated/prisma-client/"))),o.a.createElement(r.MDXTag,{name:"h3",components:a},"Deploy datamodel.prisma to Prisma Server in AWS EC2"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," PRISMA_MANAGEMENT_API_SECRET=__SECRET_KEY__ prisma deploy"))),o.a.createElement(r.MDXTag,{name:"h3",components:a},"Generate prisma client for GraphQL API"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," prisma generate"))),o.a.createElement(r.MDXTag,{name:"p",components:a},"References"),o.a.createElement(r.MDXTag,{name:"blockquote",components:a},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"blockquote"},o.a.createElement(r.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://docs.docker.com/machine/drivers/aws/"}},"https://docs.docker.com/machine/drivers/aws/")," ",o.a.createElement(r.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://docs.docker.com/machine/examples/aws/#step-2-use-machine-to-create-the-instance"}},"https://docs.docker.com/machine/examples/aws/#step-2-use-machine-to-create-the-instance"))),o.a.createElement(r.MDXTag,{name:"hr",components:a}),o.a.createElement(r.MDXTag,{name:"h2",components:a},"(Option 2) Using AWS ECS Cli"),o.a.createElement(r.MDXTag,{name:"h3",components:a},"Create EC2 and ECS cluster"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," ecs-cli up --keypair __AWS_KEYPAIR_NAME__ --capability-iam --vpc __SPECIFIC_VPC__ --subnets __SUBNET_1__,__SUBNET_2__ --size 1 --instance-type t2.micro --cluster-config prisma-server-ecs"))),o.a.createElement(r.MDXTag,{name:"ul",components:a},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},"It will generate the cloudformation which will proceed the whole process to generate EC2 instance and ECS cluster.")),o.a.createElement(r.MDXTag,{name:"h3",components:a},"Compose the Prisma Server to ECS container"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," ecs-cli compose up --create-log-groups --cluster-config prisma-server-ecs"))),o.a.createElement(r.MDXTag,{name:"ul",components:a},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},"It will generate the new Task definition. You can check the new Task definition is runnig.")),o.a.createElement(r.MDXTag,{name:"h3",components:a},"Check if the new Task definition is running"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," esc-cli ps"))),o.a.createElement(r.MDXTag,{name:"ul",components:a},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},"If your new Task definition is working well, you might want to make new service in ECS cluster in order to manage the task.")),o.a.createElement(r.MDXTag,{name:"p",components:a},"References"),o.a.createElement(r.MDXTag,{name:"blockquote",components:a},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"blockquote"},o.a.createElement(r.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://docs.aws.amazon.com/ko_kr/AmazonECR/latest/userguide/ECR_AWSCLI.html"}},"https://docs.aws.amazon.com/ko_kr/AmazonECR/latest/userguide/ECR_AWSCLI.html")," > ",o.a.createElement(r.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://docs.aws.amazon.com/ko_kr/AmazonECS/latest/developerguide/ECS_CLI_tutorial_EC2.html"}},"https://docs.aws.amazon.com/ko_kr/AmazonECS/latest/developerguide/ECS_CLI_tutorial_EC2.html"))))}}])&&p(n.prototype,t),s&&p(n,s),a}();T.isMDXComponent=!0},83:function(e,a,n){"use strict";n.r(a),n.d(a,"title",function(){return u}),n.d(a,"createdAt",function(){return g}),n.d(a,"filename",function(){return d}),n.d(a,"category",function(){return h}),n.d(a,"tag",function(){return N}),n.d(a,"thumb",function(){return f}),n.d(a,"slug",function(){return E}),n.d(a,"default",function(){return T});var t=n(0),o=n.n(t),r=n(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function c(e,a){return!a||"object"!==s(a)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):a}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,a){return(i=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}var u="How to Deploy the Next.js app to AWS Lambda",g="2019-01-11T00:00:00.000Z",d="2019-01-11-Deploy-Nextjs-app-to-AWS-Lambda",h=["react"],N=["next","aws","lambda"],f="2019-01-11_thumb.png",E="with Apex up",T=function(e){function a(e){var n;return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),(n=c(this,l(a).call(this,e))).layout=null,n}var n,t,s;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&i(e,a)}(a,o.a.Component),n=a,(t=[{key:"render",value:function(){var e=this.props,a=e.components;m(e,["components"]);return o.a.createElement(r.MDXTag,{name:"wrapper",components:a},o.a.createElement(r.MDXTag,{name:"h1",components:a},"How to deploy the Next.js to AWS Lambda"),o.a.createElement(r.MDXTag,{name:"p",components:a},"by moondaddi on 2019-01-11"),o.a.createElement(r.MDXTag,{name:"hr",components:a}),o.a.createElement(r.MDXTag,{name:"p",components:a},"This is a tiny example to show how to deploy the Next.js app on AWS Lambda using ",o.a.createElement(r.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://up.docs.apex.sh/#introduction"}},"Apex Up"),"."),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Next.js app with custom server"),o.a.createElement(r.MDXTag,{name:"p",components:a},"The custom server for Next.js app is needed to run your app on AWS Lambda. In this example, ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"express")," will be used."),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-javascript"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// server.js"),"\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," express = ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"require"),"(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"express"'),");\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," next = ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"require"),"(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"next"'),");\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," port = ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"parseInt"),"(process.env.PORT, ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"10"),") || ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"3000"),";\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," dev = process.env.NODE_ENV !== ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"production"'),";\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," app = next({ dev });\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," handle = app.getRequestHandler();\n\napp\n  .prepare()\n  .then(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"()")," =>")," {\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," server = express();\n\n    server.get(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"/"'),", (req, res) => {\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," app.render(req, res, ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"/"'),", req.params);\n    });\n\n    server.get(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"/about"'),", (req, res) => {\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," app.render(req, res, ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"/about"'),", req.params);\n    });\n\n    server.get(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"*"'),", (req, res) => {\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," handle(req, res);\n    });\n\n    server.listen(port, err => {\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"if")," (err) ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"throw")," err;\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"console"),".log(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"`> Ready on http://localhost:",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-subst"}},"${port}"),"`"),");\n    });\n  })\n  .catch(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"ex")," =>")," {\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"console"),".log(ex);\n    process.exit(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"1"),");\n  });")),o.a.createElement(r.MDXTag,{name:"h2",components:a},"update ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"h2"},"package.json")," with custom ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"h2"},"server.js")),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-json"}},"{\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"scripts"'),": {\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"dev"'),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"node server.js"'),",\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"build"'),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"next build"'),",\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"start"'),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"NODE_ENV=production node server.js"'),"\n  }\n}")),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Install Apex Up"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," curl -sf https://up.apex.sh/install | sh"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"\n#"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," verify the installation"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," up version"))),o.a.createElement(r.MDXTag,{name:"h2",components:a},"AWS credentials"),o.a.createElement(r.MDXTag,{name:"p",components:a},"You need to have one AWS account and recommend to use IAM with programmaic way for security and convinience. If you have already installed ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"awscli")," or ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"awsebcli"),", etc. You are having ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"~/.aws/credentials")," which is storing AWS credentials. It allows you to use ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"AWS_PROFILE")," environment. If you don't please make one and save it with your account ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"access key")," and ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"security key")," in it."),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"#"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," ~/.aws/credentials"),"\n\n[my-aws-account-for-lambda]\naws_access_key = xxxxxxxxxxxxx\naws_secret_access_key = xxxxxxxxxxxxxxxxxxxx")),o.a.createElement(r.MDXTag,{name:"h2",components:a},"IAM policy for Up CLI"),o.a.createElement(r.MDXTag,{name:"p",components:a},"IAM policy allows the Up to access your AWS resources in order to deploy your Next.js app on Lambda. Go to ",o.a.createElement(r.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://aws.amazon.com/iam/"}},"AWS IAM")," and make the new policy and link it up to your AWS account."),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-json"}},"{\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"Version"'),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"2012-10-17"'),",\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"Statement"'),": [\n    {\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"Effect"'),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"Allow"'),",\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"Action"'),": [\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"acm:*"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"cloudformation:Create*"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"cloudformation:Delete*"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"cloudformation:Describe*"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"cloudformation:ExecuteChangeSet"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"cloudformation:Update*"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"cloudfront:*"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"cloudwatch:*"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"ec2:*"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"ecs:*"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"events:*"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"iam:AttachRolePolicy"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"iam:CreatePolicy"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"iam:CreateRole"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"iam:DeleteRole"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"iam:DeleteRolePolicy"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"iam:GetRole"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"iam:PassRole"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"iam:PutRolePolicy"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"lambda:AddPermission"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"lambda:Create*"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"lambda:Delete*"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"lambda:Get*"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"lambda:InvokeFunction"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"lambda:List*"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"lambda:RemovePermission"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"lambda:Update*"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"logs:Create*"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"logs:Describe*"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"logs:FilterLogEvents"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"logs:Put*"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"logs:Test*"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"route53:*"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"route53domains:*"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"s3:*"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"ssm:*"'),",\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"sns:*"'),"\n      ],\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"Resource"'),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"*"'),"\n    },\n    {\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"Effect"'),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"Allow"'),",\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"Action"'),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"apigateway:*"'),",\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"Resource"'),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"arn:aws:apigateway:*::/*"'),"\n    }\n  ]\n}")),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Create ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"h2"},"up.json")," file"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-json"}},"{\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"name"'),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"nextjs-example"'),",\n  # aws account profile in ~/.aws/credentials\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"profile"'),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"my-aws-account-for-lambda"'),",\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"regions"'),": [",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"ap-northeast-2"'),"],\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"lambda"'),": {\n    # min 128, default 512\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"memory"'),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"256"),",\n    # AWS Lambda supports node.js 8.10 latest\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"runtime"'),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"nodejs8.10"'),"\n  },\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"proxy"'),": {\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"command"'),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"npm start"'),",\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"timeout"'),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"25"),",\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"listen_timeout"'),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"15"),",\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"shutdown_timeout"'),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"15"),"\n  },\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"stages"'),": {\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"development"'),": {\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"proxy"'),": {\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"command"'),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"yarn dev"'),"\n      }\n    }\n  },\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"environment"'),": {\n    # you can hydrate env variables as you want.\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"NODE_ENV"'),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"production"'),"\n  },\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"error_pages"'),": {\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"variables"'),": {\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"support_email"'),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"admin@my-email.com"'),",\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"color"'),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"#2986e2"'),"\n    }\n  }\n}")),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Build the Next.js app before deploy"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," yarn build"))),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Create ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"h2"},".upignore")," file"),o.a.createElement(r.MDXTag,{name:"p",components:a},"The Up will inspect your files to compose and deploy to lambda. Firstly The up will read ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},".gitignore")," and ignore files written in ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},".gitignore"),". And after that, ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},".upignore")," will be read. The Up, by default, ignores dotfiles, so needs to negate ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},".next")," directory in ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},".upignore")," in order for the Up will build the package with it."),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"#"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," .upignore"),"\n\n!.next")),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Deploy"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," up"))))}}])&&p(n.prototype,t),s&&p(n,s),a}();T.isMDXComponent=!0},84:function(e,a,n){"use strict";n.r(a),n.d(a,"title",function(){return u}),n.d(a,"createdAt",function(){return g}),n.d(a,"filename",function(){return d}),n.d(a,"category",function(){return h}),n.d(a,"tag",function(){return N}),n.d(a,"thumb",function(){return f}),n.d(a,"slug",function(){return E}),n.d(a,"default",function(){return T});var t=n(0),o=n.n(t),r=n(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function c(e,a){return!a||"object"!==s(a)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):a}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,a){return(i=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}var u="How to replace the React Redux with Hooks",g="2019-02-11T00:00:00.000Z",d="2019-02-11-How-to-Replace-Redux-with-Hooks",h=["react"],N=["hooks","redux"],f="2019-02-11_thumb.png",E="React release the game-changer departing from Class programming way.",T=function(e){function a(e){var n;return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),(n=c(this,l(a).call(this,e))).layout=null,n}var n,t,s;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&i(e,a)}(a,o.a.Component),n=a,(t=[{key:"render",value:function(){var e=this.props,a=e.components;m(e,["components"]);return o.a.createElement(r.MDXTag,{name:"wrapper",components:a},o.a.createElement(r.MDXTag,{name:"h1",components:a},"How to replace the Redux with React Hooks"),o.a.createElement(r.MDXTag,{name:"p",components:a},"by moondaddi on 2019-02-11"),o.a.createElement(r.MDXTag,{name:"hr",components:a}),o.a.createElement(r.MDXTag,{name:"h2",components:a},"React Hooks release"),o.a.createElement(r.MDXTag,{name:"p",components:a},"The React team released the React Hooks on version 16.8.0. (",o.a.createElement(r.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://reactjs.org/docs/hooks-intro.html"}},"https://reactjs.org/docs/hooks-intro.html"),")"),o.a.createElement(r.MDXTag,{name:"p",components:a},"The Hooks are the new feature which can lead you not to use ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"class")," anymore in your React app. There are, mainly, three basic hooks, ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"useState"),", ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"useEffect")," and ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"useContext"),". Literally, ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"useState")," is the state hook which allows you to use state in functional component. And ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"useEffect")," is the effect hook which is working like lifecycle API, such as ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"componentDidMount()"),", ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"componentWillUnmount()")," and ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"componentDidUpdate()"),". Lastly, ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"useContext")," is the hook of ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Context")," created by ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"React.createContext()"),"."),o.a.createElement(r.MDXTag,{name:"p",components:a},"Additionally, there are more hooks ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"useReducer"),", ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"useCallback"),", ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"useMemo"),", ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"useRef"),", etc."),o.a.createElement(r.MDXTag,{name:"h2",components:a},o.a.createElement(r.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"https://react-redux.js.org/introduction/quick-start"}},"React Redux")),o.a.createElement(r.MDXTag,{name:"p",components:a},"The React Redux is the tool which let you manage the global state in centralized store and use the global state in any component inside the app. It enables you(especially, team size) to control the global state in encapsulated way."),o.a.createElement(r.MDXTag,{name:"h2",components:a},"React Hooks instead of React Redux"),o.a.createElement(r.MDXTag,{name:"p",components:a},"It is possible to replace the React Redux with React Hooks successfully without losing any good purpose of using React Redux with less code and more maintainability."),o.a.createElement(r.MDXTag,{name:"h3",components:a},"Create the store (initValue + reducer)"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-javascript"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// HooduxStore.js"),"\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," initValue = {\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"isLogin"),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-literal"}},"false"),",\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"token"),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'""'),"\n};\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," reducer = ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},"(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"state, action"),") =>")," {\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"switch")," (action.type) {\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"case")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"setLogin"'),":\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," { ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"isLogin"),": action.payload };\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"case")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"setToken"'),":\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," { ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"token"),": action.payload };\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"default"),":\n      ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"throw")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"new")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"Error"),"(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"wrong action.type"'),");\n  }\n};")),o.a.createElement(r.MDXTag,{name:"h3",components:a},"Wrap the top level component(eg. App.js) with Context"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-javascript"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// App.js"),"\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," MyContext = React.createContext();\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," App = ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"()")," =>")," {\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," [state, dispatch] = useReducer(reducer, initValue);\n\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," (\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"<",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"MyContext.Provider")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"value"),"=",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},"{{")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"state"),", ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"dispatch")," }}>"),"\n      "),"<Header />",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},"\n      "),"<LogIn />",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},"\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"</",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"MyContext.Provider"),">")),"\n  );\n};")),o.a.createElement(r.MDXTag,{name:"blockquote",components:a},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"blockquote"},"You can use the context wrapper component in higher order if you like.")),o.a.createElement(r.MDXTag,{name:"h3",components:a},"Pull and use ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"h3"},"state")," and ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"h3"},"dispatch")),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-javascript"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// Login.js"),"\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," { state, dispatch } = useContext(MyContext);\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," handleLogin = ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"()")," =>")," {\n  dispatch({ ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"type"),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"setLogin"'),", ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"payload"),": ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-literal"}},"true")," });\n};\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"<",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"div"),">"),'{state.isLogin ? "You are logged in" : "Not logged in"}',o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"</",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"div"),">")),";")),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Conclusion"),o.a.createElement(r.MDXTag,{name:"p",components:a},o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"useReducer")," make a lot easier to pull and use the ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"state")," and ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"dispatch")," instead of using ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"connect()")," in React Redux. If you're familiar with it, you know how it works. In React Redux,every single component, you want to use ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"state")," or ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"dispatch"),", needs to be connected. But with ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"useReducer"),", you need to call it just once in component if you want it to be."))}}])&&p(n.prototype,t),s&&p(n,s),a}();T.isMDXComponent=!0},85:function(e,a,n){"use strict";n.r(a),n.d(a,"title",function(){return u}),n.d(a,"createdAt",function(){return g}),n.d(a,"filename",function(){return d}),n.d(a,"category",function(){return h}),n.d(a,"tag",function(){return N}),n.d(a,"thumb",function(){return f}),n.d(a,"slug",function(){return E}),n.d(a,"default",function(){return T});var t=n(0),o=n.n(t),r=n(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function c(e,a){return!a||"object"!==s(a)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):a}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,a){return(i=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}var u="Commands for Postgres DB initial Setup",g="2019-02-25T00:00:00.000Z",d="2019-02-25-Commands-for-Postgres-DB-setup",h=["backend"],N=["postgres","db"],f="2019-02-25_thumb.jpg",E="Create DB, TABLE, USER, permission",T=function(e){function a(e){var n;return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),(n=c(this,l(a).call(this,e))).layout=null,n}var n,t,s;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&i(e,a)}(a,o.a.Component),n=a,(t=[{key:"render",value:function(){var e=this.props,a=e.components;m(e,["components"]);return o.a.createElement(r.MDXTag,{name:"wrapper",components:a},o.a.createElement(r.MDXTag,{name:"h1",components:a},"Commands for Postgres DB initial setup"),o.a.createElement(r.MDXTag,{name:"p",components:a},"by Moondaddi on 2019-02-25"),o.a.createElement(r.MDXTag,{name:"hr",components:a}),o.a.createElement(r.MDXTag,{name:"h2",components:a},"TL;DR;"),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Create DB"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},"postgres=# CREATE DATABASE [db_name];")),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Create User with Password"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},"postgres=# CREATE USER [myuser] WITH ENCRYPTED PASSWORD '[password]';")),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Alter database owner"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},"postgres=# ALTER DATABASE [db_name] OWNER TO [myuser];")),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Grant the privileges"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},"postgres=# GRANT ALL PRIVILEGES ON DATABASE [db_name] TO [myuser];")),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Grant a permission to create DB to user"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},"postgres=# ALTER USER [myuser] WITH CREATEDB;")))}}])&&p(n.prototype,t),s&&p(n,s),a}();T.isMDXComponent=!0},86:function(e,a,n){"use strict";n.r(a),n.d(a,"title",function(){return u}),n.d(a,"createdAt",function(){return g}),n.d(a,"filename",function(){return d}),n.d(a,"category",function(){return h}),n.d(a,"tag",function(){return N}),n.d(a,"thumb",function(){return f}),n.d(a,"slug",function(){return E}),n.d(a,"default",function(){return T});var t=n(0),o=n.n(t),r=n(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function c(e,a){return!a||"object"!==s(a)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):a}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,a){return(i=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}var u="Kill the process using port",g="2019-03-05T00:00:00.000Z",d="2019-03-05-Kill-Process-Using-Port",h=["devlogs"],N=["macos","kill","port"],f="2019-03-05_thumb.jpg",E="Kill the process occupying the TCP port in abnormal and unintended way.",T=function(e){function a(e){var n;return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),(n=c(this,l(a).call(this,e))).layout=null,n}var n,t,s;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&i(e,a)}(a,o.a.Component),n=a,(t=[{key:"render",value:function(){var e=this.props,a=e.components;m(e,["components"]);return o.a.createElement(r.MDXTag,{name:"wrapper",components:a},o.a.createElement(r.MDXTag,{name:"h1",components:a},"Kill the process occupying a specific port"),o.a.createElement(r.MDXTag,{name:"p",components:a},"by Moondaddi on 2019-03-05"),o.a.createElement(r.MDXTag,{name:"hr",components:a}),o.a.createElement(r.MDXTag,{name:"p",components:a},"Sometimes you can encounter this error which says another process is already occupying the port. You can kill the app or process if you can, the problem is, sometimes it is not available. For example when app was teminated by abnormal ways, it remains and occupy the communication port in background."),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Check the current process using specific port"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," lsof -i:3000"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"\n#"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," output"),"\nCOMMAND     PID   USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME\nrust_grap 92304 myuser    3u  IPv4 0xffffffffffffffff      0t0  TCP localhost:arepa-cas (LISTEN)")),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Kill the process"),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-built_in"}},"kill")," -9 92304"))),o.a.createElement(r.MDXTag,{name:"blockquote",components:a},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"blockquote"},"use PID number (eg. 92304)")))}}])&&p(n.prototype,t),s&&p(n,s),a}();T.isMDXComponent=!0},87:function(e,a,n){"use strict";n.r(a),n.d(a,"title",function(){return u}),n.d(a,"createdAt",function(){return g}),n.d(a,"filename",function(){return d}),n.d(a,"category",function(){return h}),n.d(a,"tag",function(){return N}),n.d(a,"thumb",function(){return f}),n.d(a,"slug",function(){return E}),n.d(a,"default",function(){return T});var t=n(0),o=n.n(t),r=n(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function c(e,a){return!a||"object"!==s(a)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):a}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,a){return(i=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}var u="How to warm your lambda function properly",g="2019-03-23T00:00:00.000Z",d="2019-03-23-how-to-warm-lambda-function",h=["backend"],N=["aws","lambda"],f="2019-03-23_thumb.jpg",E="Keep your lambda warm always",T=function(e){function a(e){var n;return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),(n=c(this,l(a).call(this,e))).layout=null,n}var n,t,s;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&i(e,a)}(a,o.a.Component),n=a,(t=[{key:"render",value:function(){var e=this.props,a=e.components;m(e,["components"]);return o.a.createElement(r.MDXTag,{name:"wrapper",components:a},o.a.createElement(r.MDXTag,{name:"h1",components:a},"How to warm your lambda function properly"),o.a.createElement(r.MDXTag,{name:"p",components:a},"by moondaddi on 23 Mar 2019"),o.a.createElement(r.MDXTag,{name:"hr",components:a}),o.a.createElement(r.MDXTag,{name:"p",components:a},"It is fascinating to use a serverless framework like AWS lambda. It allows you to focus only codes and logic, not maintaining server or backend anymore. I deployed my service, ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"RateLink"),"(",o.a.createElement(r.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://www.rate-link.com"}},"link"),"), on AWS Lambda. It consists of the frontend web app and the backend GraphQL API. The Frontend web app is made of Next.js which is SSR framework with React. And the backend is a GraphQL node backend which is made of Express.js."),o.a.createElement(r.MDXTag,{name:"p",components:a},"Right after I deployed it, I realized that it took almost 10 sec to see the web page. It happens to only very first-time access, after that everything seems fine. I found that it is so called ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"cold start")," of lambda."),o.a.createElement(r.MDXTag,{name:"p",components:a},"I googled it and found some remedies for the cold start. But, none of them works for my case. Because my Next.js app is quite big and needs to fetch a lot of data from the backend(which is also having a ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"cold start"),") to render the whole page from the cold stage."),o.a.createElement(r.MDXTag,{name:"blockquote",components:a},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"blockquote"},"Lambda goes to the cold stage after approx. 5 minutes idling.")),o.a.createElement(r.MDXTag,{name:"p",components:a},"Here's what I tried."),o.a.createElement(r.MDXTag,{name:"h3",components:a},"1. AWS Cloudwatch Event 👎"),o.a.createElement(r.MDXTag,{name:"p",components:a},"AWS Cloudwatch can invoke the lambda function in several ways. I try to make a periodical event to invoke my frontend and backend. But no gains. Because of how AWS Cloudwatch to invoke the lambda function. AWS Cloudwatch sends JSON data to the lambda function. But my frontend is a web app and my backend is a GraphQL API which respond to an HTTP request. JSON data is not enough to wake my frontend or backend app. JSON data will be carried with an event in lambda runtime. But none of my apps are responding to that event."),o.a.createElement(r.MDXTag,{name:"h3",components:a},"2. Route53 health check 😱"),o.a.createElement(r.MDXTag,{name:"p",components:a},"AWS Route53 has a feature to check the endpoint status, which is called a health check. You can turn it on to check the health of any endpoints. It pings the endpoint and checks the response status code. I found it works fine. It took about 2-3 sec to see the page rendered in first access. But the problem is the health check period is not adjustable. You can choose only 10 sec. or 30 sec. 10 sec means almost sending a ping per every sec, and 30 sec means ping per 2-3 sec. In calculating with it, it will send a ping almost 1.3M times per month (30pings/min ","*"," 60min ","*"," 24hrs ","*"," 30days = 1,296,000 pings/mon)😱"),o.a.createElement(r.MDXTag,{name:"h3",components:a},"3. Lambda Warmer 👍"),o.a.createElement(r.MDXTag,{name:"p",components:a},"I made another lambda function to wake other lambdas up and keep it warm in every 5 min. Here are my code and serverless.yml."),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// handler.js"),"\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," https = ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"require"),"(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"https"'),");\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," warming = ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"url")," =>")," {\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"new")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"Promise"),"(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},"(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"resolve, reject"),") =>")," {\n    https\n      .get(url, res => {\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"console"),".log(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"warmed! :"'),", res.statusCode);\n        resolve(res);\n      })\n      .on(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"error"'),", e => {\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"console"),".log(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"got error :"'),", e.message);\n        reject(e);\n      });\n  });\n};\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"module"),".exports.warmer = ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"async")," (event, context, callback) => {\n  ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"try")," {\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"await")," warming(",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"https://www.rate-link.com/rates"'),");\n    context.succeed();\n  } ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"catch")," (e) {\n    context.done();\n  }\n};")),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-yml"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"//")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"serverless.yml"),"\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"service:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"warmer"),"\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"provider:"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"  name:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"aws"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"  runtime:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"nodejs8.10"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"  stage:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"dev"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"  region:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"ap-northeast-2"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"  profile:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"{your")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"profile}"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"  memorySize:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"128"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"  timeout:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"15"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"s"),"\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"functions:"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"  warmer:"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"    handler:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"handler.warmer"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"    events:"),"\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"    - schedule:")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"rate(5")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"minutes)"))),o.a.createElement(r.MDXTag,{name:"p",components:a},"Since node8.10 in lambda runtime, ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"async/await")," is available. I've made a request function ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"warming")," and it returns a ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Promise"),". Then ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"handler.warmer")," can call the warming function and it makes ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"await")," till both frontend and backend app are running and respond to the request."),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Conclusion"),o.a.createElement(r.MDXTag,{name:"p",components:a},"In the case of invoking a lambda function, you can use AWS Cloudwatch event for it. It means your lambda function takes an event in lambda runtime and run the function with it and return context or callback. But in case that you have a web app on lambda function which doesn't depend on normal events, you need to send an HTTP request to your web app on lambda. It is not much help to send a JSON data to your apps to keep warm."))}}])&&p(n.prototype,t),s&&p(n,s),a}();T.isMDXComponent=!0},88:function(e,a,n){"use strict";n.r(a),n.d(a,"title",function(){return u}),n.d(a,"createdAt",function(){return g}),n.d(a,"filename",function(){return d}),n.d(a,"category",function(){return h}),n.d(a,"tag",function(){return N}),n.d(a,"thumb",function(){return f}),n.d(a,"slug",function(){return E}),n.d(a,"default",function(){return T});var t=n(0),o=n.n(t),r=n(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function c(e,a){return!a||"object"!==s(a)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):a}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,a){return(i=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}var u="How to make a NuGet package for class library",g="2019-09-07T00:00:00.000Z",d="2019-09-07-how-to-make-nuget-package",h=["backend","dotnetcore",".net","core"],N=["microsoft","dotnetcore"],f="2019-09-07_thumb.jpg",E="Make a NuGet package with dotnet CLI",T=function(e){function a(e){var n;return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),(n=c(this,l(a).call(this,e))).layout=null,n}var n,t,s;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&i(e,a)}(a,o.a.Component),n=a,(t=[{key:"render",value:function(){var e=this.props,a=e.components;m(e,["components"]);return o.a.createElement(r.MDXTag,{name:"wrapper",components:a},o.a.createElement(r.MDXTag,{name:"h1",components:a},"How to make a NuGet package for class library"),o.a.createElement(r.MDXTag,{name:"p",components:a},"by moondaddi on 07 Sep 2019"),o.a.createElement(r.MDXTag,{name:"hr",components:a}),o.a.createElement(r.MDXTag,{name:"h2",components:a},"NuGet"),o.a.createElement(r.MDXTag,{name:"p",components:a},o.a.createElement(r.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://www.nuget.org/packages/PasswordHasher.SHA256.ASP.NET.CORE.Identity/"}},"https://www.nuget.org/packages/PasswordHasher.SHA256.ASP.NET.CORE.Identity/")),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Purpose"),o.a.createElement(r.MDXTag,{name:"p",components:a},"This is to show how to pack the external class library into NuGet package and publish it on NuGet.org."),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Background"),o.a.createElement(r.MDXTag,{name:"p",components:a},"My team decided to build a new indentity api for auth and control roles of each client apis. We chose the ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"IdentityServer4")," on ASP.NET Core. But we had to migrate all users information including password which is stored in DB. ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"IdentityServer4")," has a default password hasher ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"PBKDF2"),". Hence, we decided to override this password hasher with custom hasher which is ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"SHA256")," and ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"BASE64")," encoding. We built the custom password hasher as the external class library and published it to NuGet for later use and maintanence."),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Requirements"),o.a.createElement(r.MDXTag,{name:"ul",components:a},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},"macOS"),o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},"dotnet CLI")),o.a.createElement(r.MDXTag,{name:"h2",components:a},"Steps"),o.a.createElement(r.MDXTag,{name:"ol",components:a},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ol"},"Install the dotnet CLI")),o.a.createElement(r.MDXTag,{name:"p",components:a},o.a.createElement(r.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://dotnet.microsoft.com/download"}},"https://dotnet.microsoft.com/download")),o.a.createElement(r.MDXTag,{name:"ol",components:a,props:{start:2}},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ol"},"Create the class library")),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"example$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," dotnet new classlib -n SHA256.Password.Hasher"))),o.a.createElement(r.MDXTag,{name:"blockquote",components:a},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"blockquote"},"This makes a directory ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"SHA256.Password.Hasher")," and create a template for class library")),o.a.createElement(r.MDXTag,{name:"ol",components:a,props:{start:3}},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ol"},"Build the class library")),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-csharp"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"using")," System;\n\n",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"namespace")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-title"}},"SHA256.Password.Hasher"),"\n{\n    ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"public")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"class")," ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-title"}},"CustomPasswordHasher"),"\n    {\n        ",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// ..."),"\n    }\n}")),o.a.createElement(r.MDXTag,{name:"blockquote",components:a},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"blockquote"},"Rename the class or file (default filename : Class1.cs)")),o.a.createElement(r.MDXTag,{name:"ol",components:a,props:{start:4}},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ol"},"Add the new class library into ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"li"},".sln")," file")),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"example$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," dotnet new sln"))),o.a.createElement(r.MDXTag,{name:"blockquote",components:a},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"blockquote"},"Generate the ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},".sln")," file if not exists")),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"example$"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," dotnet sln add SHA256.Password.Hasher/SHA256.Password.Hasher.csproj"))),o.a.createElement(r.MDXTag,{name:"blockquote",components:a},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"blockquote"},"Add the ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"SHA256.Password.Hasher")," into ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},".sln"))),o.a.createElement(r.MDXTag,{name:"ol",components:a,props:{start:5}},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ol"},"Add the reference into the main cs project to use the class library")),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},"example/IdentityServer4$ dotnet add reference ../SHA256.Password.Hasher/SHA256.Password.Hasher.csproj\n\nexample/IdentityServer4$ dotnet restore")),o.a.createElement(r.MDXTag,{name:"ol",components:a,props:{start:6}},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ol"},"Build the class library")),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},"example/SHA256.Password.Hasher$ dotnet build")),o.a.createElement(r.MDXTag,{name:"ol",components:a,props:{start:7}},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ol"},"Set the properties for NuGet package information")),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-csharp"}},o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"# SHA256.Password.Hasher.csproj"),"\n \n<Project Sdk=",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"Microsoft.NET.Sdk"'),">\n \n  <PropertyGroup>\n    <TargetFramework>netcoreapp2",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},".2"),"</TargetFramework>\n    <PackageId>PasswordHasher.SHA256.ASP.NET.CORE.Identity</PackageId>\n    <Version>",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"1.0"),o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},".1"),"</Version>\n    <Authors>moondaddi</Authors>\n    <RepositoryUrl>https:",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"//github.com/mattdamon108/PasswordHasher.SHA256.ASP.NET.CORE.Identity.git</RepositoryUrl>"),"\n  </PropertyGroup>\n \n  <ItemGroup>\n    <PackageReference Include=",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"Microsoft.AspNetCore.Identity"')," Version=",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"2.2.0"')," />\n    <PackageReference Include=",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"Microsoft.AspNetCore.Identity.EntityFrameworkCore"')," Version=",o.a.createElement(r.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"2.2.0"')," />\n  </ItemGroup>\n \n</Project>")),o.a.createElement(r.MDXTag,{name:"ol",components:a,props:{start:8}},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ol"},"Pack the class library to .nupkg file")),o.a.createElement(r.MDXTag,{name:"pre",components:a},o.a.createElement(r.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell"}},"example/SHA256.Password.Hasher$ dotnet pack")),o.a.createElement(r.MDXTag,{name:"blockquote",components:a},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"blockquote"},"This generate a ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},".nupkg")," file")),o.a.createElement(r.MDXTag,{name:"ol",components:a,props:{start:9}},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ol"},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"li"},"Create NuGet.org account and upload the ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:a,parentName:"p"},".nupkg")," file")),o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ol"},o.a.createElement(r.MDXTag,{name:"p",components:a,parentName:"li"},"References"))),o.a.createElement(r.MDXTag,{name:"ul",components:a},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"a",components:a,parentName:"li",props:{href:"https://docs.microsoft.com/ko-kr/nuget/quickstart/create-and-publish-a-package-using-the-dotnet-cli"}},"https://docs.microsoft.com/ko-kr/nuget/quickstart/create-and-publish-a-package-using-the-dotnet-cli")),o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"a",components:a,parentName:"li",props:{href:"https://docs.microsoft.com/ko-kr/nuget/create-packages/creating-a-package-dotnet-cli"}},"https://docs.microsoft.com/ko-kr/nuget/create-packages/creating-a-package-dotnet-cli")),o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"a",components:a,parentName:"li",props:{href:"https://docs.microsoft.com/ko-kr/nuget/nuget-org/publish-a-package"}},"https://docs.microsoft.com/ko-kr/nuget/nuget-org/publish-a-package")),o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},"Using Visual Studio to make a package",o.a.createElement(r.MDXTag,{name:"ul",components:a,parentName:"li"},o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"a",components:a,parentName:"li",props:{href:"https://www.devtrends.co.uk/blog/creating-your-first-shared-library-in-.net-core"}},"https://www.devtrends.co.uk/blog/creating-your-first-shared-library-in-.net-core")))),o.a.createElement(r.MDXTag,{name:"li",components:a,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"a",components:a,parentName:"li",props:{href:"https://docs.microsoft.com/ko-kr/dotnet/core/tools/csproj"}},"https://docs.microsoft.com/ko-kr/dotnet/core/tools/csproj"))))}}])&&p(n.prototype,t),s&&p(n,s),a}();T.isMDXComponent=!0}},[[293,1,0]]]);
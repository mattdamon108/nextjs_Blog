<!DOCTYPE html><html lang="en"><head><meta name="author" content="moondaddi"/><link rel="manifest" href="/static/manifest.json"/><link href="https://fonts.googleapis.com/css?family=Ubuntu:400,700|Merriweather" rel="stylesheet"/><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="description" content="Build my dreams with codes"/><meta name="theme-color" content="black"/><meta charSet="utf-8" class="next-head"/><title class="next-head">Build the Codes</title><link rel="preload" href="/_next/static/xfhpDKqUyHy6HIgQkDi1L/pages/post.js" as="script"/><link rel="preload" href="/_next/static/xfhpDKqUyHy6HIgQkDi1L/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-838b392324e3598684b5.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.4860be0a2558b214ee9b.js" as="script"/><link rel="preload" href="/_next/static/chunks/styles.a44caf2ce2cc4614b00a.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-e66313a3e9b5d14075c9.js" as="script"/><link rel="stylesheet" href="/_next/static/css/styles.0c6a08f2.chunk.css"/></head><body><div id="__next"><div id="header"><div class="container"><div class="header-container"><div id="header-title"><a href="/">Build the Codes</a></div><div><div id="avatar-img" style="background-image:url(&quot;/static/images/avatar/moondaddi_avatar.jpg&quot;)"></div><div id="profile"><div id="name"><a href="/about/">moondaddi</a></div><div>My dreams with Codes</div></div><div id="menu"><div id="header-tag"><a href="/tag/">Tags</a></div><div id="header-about"><a href="/about/">About</a></div></div></div></div></div></div><div id="content"><div class="container"><div class="post-card"><div><h1>AWS Elastic Beanstalk makes redirect to HTTPS</h1><p>by moondaddi on 2018-12-18</p><hr/><h2>Elastic Load balancer and Elastic Beanstalk</h2><p>AWS Elastic Load balancer automatically distributes incoming application traffic across multiple AWS EC2. It enables your application&#x27;s falut tolerance level higher and seamlessly providing the required amount of load balancing capacity needed to distribute application traffics.</p><p>When you deploy your application whatever it&#x27;s built with any language to Elastic Beanstalk, Elastic Beanstalk automatically performs all required process in deployment for your application. One of requirements is Elastic Load balancer in front of EC2 which is generated by Elastic Beanstalk.</p><p>Elastic Load balancer is listening the port 80 as default. And you can set 443 port for HTTPS.</p><h2>Redirect to HTTPS</h2><p>Once everything sets up, You can access your application in Elastic Beanstalk through HTTP and also HTTPS.</p><p>If you want all requests to port 80 to redirect to port 443, HTTPS, you can make ssl_redirect.config file in .ebextensions in your application root directory.</p><pre><code class="hljs language-apache"><span class="hljs-attribute">files</span>:
    &quot;/<span class="hljs-attribute">etc</span>/httpd/conf.d/ssl_redirect.conf<span class="hljs-string">&quot;:
        mode: &quot;</span>000644<span class="hljs-string">&quot;
        owner: root
        group: root
        content: |
            RewriteEngine On
            &lt;If &quot;</span>-n &#x27;<span class="hljs-variable">%{HTTP:X-Forwarded-Proto}</span>&#x27; &amp;&amp; <span class="hljs-variable">%{HTTP:X-Forwarded-Proto}</span> != &#x27;https&#x27;<span class="hljs-string">&quot;&gt;
            RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [R,L]
            &lt;/If&gt;</span></code></pre><h2>How it works</h2><p>During deployment of Elastic Beanstalk, it will check <code>.ebextendsion</code> directory if any <code>*.config</code> files there. If config file is found, Elastic Beanstalk will proceed it before applying the deployment of your application.</p><p><code>ssl_redirect.config</code> file will be generated in path <code>/etc/httpd/conf.d/</code> and this will works for apache server to check any none https request and redirect it to https.</p></div></div></div></div><div id="footer"><div class="container"><div class="footer-container"><div id="footer-github"><a href="https://github.com/mattdamon108" target="_blank">Github</a></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/post","query":{"filename":"2018-12-18-AWS-EB-Load-Balancer-redirect-to-https"},"buildId":"xfhpDKqUyHy6HIgQkDi1L","nextExport":true}</script><script async="" id="__NEXT_PAGE__/post" src="/_next/static/xfhpDKqUyHy6HIgQkDi1L/pages/post.js"></script><script async="" id="__NEXT_PAGE__/_app" src="/_next/static/xfhpDKqUyHy6HIgQkDi1L/pages/_app.js"></script><script src="/_next/static/runtime/webpack-838b392324e3598684b5.js" async=""></script><script src="/_next/static/chunks/commons.4860be0a2558b214ee9b.js" async=""></script><script src="/_next/static/chunks/styles.a44caf2ce2cc4614b00a.js" async=""></script><script src="/_next/static/runtime/main-e66313a3e9b5d14075c9.js" async=""></script></body></html>
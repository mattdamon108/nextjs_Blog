<!DOCTYPE html><html lang="en"><head><meta name="author" content="moondaddi"/><link rel="manifest" href="/static/manifest.json"/><link href="https://fonts.googleapis.com/css?family=Ubuntu:400,700|Merriweather" rel="stylesheet"/><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="description" content="Build my dreams with codes"/><meta name="theme-color" content="#222f3e"/><meta charSet="utf-8" class="next-head"/><title class="jsx-1456713024 next-head">Build the Codes</title><link rel="preload" href="/_next/static/8DfdFfCbaibU3Hkewn77p/pages/post.js" as="script"/><link rel="preload" href="/_next/static/8DfdFfCbaibU3Hkewn77p/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-838b392324e3598684b5.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.ee9de452db16e3109491.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-97da79c9c9960a7c6dea.js" as="script"/><style id="__jsx-411869389">#header.jsx-411869389{background-color:var(--background-color);color:white;}.header-container.jsx-411869389{position:relative;margin:0 1rem;}#header-title.jsx-411869389{display:inline-block;font-family:var(--text-san-serif);font-size:1.4rem;margin:1rem auto;font-weight:bold;}#header-title.jsx-411869389 a.jsx-411869389{color:white;-webkit-text-decoration:none;text-decoration:none;}#header-body.jsx-411869389{display:inline-block;position:absolute;right:0;margin:1rem auto;text-align:right;}#menu.jsx-411869389{display:inline-block;font-size:0.9rem;}#menu.jsx-411869389 #header-tag.jsx-411869389{display:inline-block;margin:auto 1rem;}#menu.jsx-411869389 #header-about.jsx-411869389{display:inline-block;margin:auto 1rem;}@media (max-width:576px){#header-title.jsx-411869389{margin:1rem auto 0 auto;}#header-body.jsx-411869389{display:block;text-align:right;position:relative;margin:0 auto;}}</style><style id="__jsx-3116055885">#header.jsx-3116055885{background-color:var(--background-color);color:white;}.header-container.jsx-3116055885{margin:0 1rem;padding:1rem 0;}#header-title.jsx-3116055885{font-family:var(--text-san-serif);font-size:1.7rem;margin:1rem auto;font-weight:bold;}#header-title.jsx-3116055885 a.jsx-3116055885{color:white;-webkit-text-decoration:none;text-decoration:none;}#avatar-img.jsx-3116055885{display:inline-block;-webkit-border-radius:25px;-moz-border-radius:25px;border-radius:25px;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;background-position:center center;vertical-align:middle;}#profile.jsx-3116055885{display:inline-block;vertical-align:middle;padding-left:1rem;font-family:$font-serif;color:$text-normal-color;font-size:0.9rem;}#header-body.jsx-3116055885{position:relative;}#menu.jsx-3116055885{display:inline-block;position:absolute;right:0;font-family:$font-serif;font-size:0.9rem;margin-top:1rem;}#menu.jsx-3116055885 #header-tag.jsx-3116055885{display:inline-block;margin:auto 1rem;}#menu.jsx-3116055885 #header-about.jsx-3116055885{display:inline-block;margin:auto 1rem;}@media (max-width:576px){#menu.jsx-3116055885{display:block;text-align:right;position:relative;}}</style><style id="__jsx-3376242649">#footer.jsx-3376242649{background-color:var(--background-color);}.footer-container.jsx-3376242649{height:5rem;font-family:$font-serif;font-size:0.9rem;}#footer-github.jsx-3376242649{padding-top:2rem;}</style><style id="__jsx-1456713024">html,body{width:100%;margin:0;padding:0;border:0;--background-color:#222f3e;--text-serif:Merriweather,Courier,serif;--text-san-serif:"Ubuntu","Helvetica Neue",Helvetica,Arial, sans-serif;--text-link-color:#ed4c67;}body{font-size:1rem;font-family:var(--text-serif);font-weight:300;width:100%;line-height:200%;-webkit-font-smoothing:antialiased;}a{-webkit-text-decoration:underline;text-decoration:underline;}a:link{color:var(--text-link-color);}a:visited{color:var(--text-link-color);}a:hover{color:var(--text-link-color);}a:active{color:var(--text-link-color);}.container{width:800px;margin:0 auto;}@media (max-width:900px){.container{width:100%;margin:0 auto;}}.post-content{background-color:#fff;padding:1rem;margin-bottom:50px;}img{width:100%;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;}blockquote{margin:0;padding:0 1em;color:#6a737d;border-left:0.25em solid #dfe2e5;word-break:break-word;}code{padding:2px 3px;border-width:0;border-radius:3px;background-color:rgba(255,229,100,0.2);font-family:Merriweather,Courier,serif;}pre code{overflow:auto;word-wrap:normal;white-space:pre;line-height:150%;}.hljs-comment,.hljs-quote{color:#d4d0ab;}.hljs-variable,.hljs-template-variable,.hljs-tag,.hljs-name,.hljs-selector-id,.hljs-selector-class,.hljs-regexp,.hljs-deletion{color:#ffa07a;}.hljs-number,.hljs-built_in,.hljs-builtin-name,.hljs-literal,.hljs-type,.hljs-params,.hljs-meta,.hljs-link{color:#f5ab35;}.hljs-attribute{color:#ffd700;}.hljs-string,.hljs-symbol,.hljs-bullet,.hljs-addition{color:#abe338;}.hljs-title,.hljs-section{color:#00e0e0;}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0;}.hljs{display:block;overflow-x:auto;background:#2b2b2b;color:#f8f8f2;padding:1rem;font-family:Consolas,Menlo,Monaco,monospace;font-size:0.8rem;font-weight:600;border-radius:5px;}.hljs-emphasis{font-style:italic;}.hljs-strong{font-weight:bold;}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-string,.hljs-symbol,.hljs-type,.hljs-quote{color:highlight;}.hljs-keyword,.hljs-selector-tag{font-weight:bold;}}@media (max-width:576px){pre{width:100%;}}</style></head><body><div id="__next"><div id="header" class="jsx-411869389"><div class="jsx-411869389 container"><div class="jsx-411869389 header-container"><div id="header-title" class="jsx-411869389"><a href="/" class="jsx-411869389">Build the Codes</a></div><div id="header-body" class="jsx-411869389"><div id="menu" class="jsx-411869389"><div id="header-tag" class="jsx-411869389"><a href="/tag" class="jsx-411869389">Tags</a></div><div id="header-about" class="jsx-411869389"><a href="/about" class="jsx-411869389">About</a></div></div></div></div></div></div><div id="content"><div class="container"><div class="post-content"><div><h1>How to replace the Redux with React Hooks</h1><p>by moondaddi on 2019-02-11</p><hr/><h2>React Hooks release</h2><p>The React team released the React Hooks on version 16.8.0. (<a href="https://reactjs.org/docs/hooks-intro.html">https://reactjs.org/docs/hooks-intro.html</a>)</p><p>The Hooks are the new feature which can lead you not to use <code>class</code> anymore in your React app. There are, mainly, three basic hooks, <code>useState</code>, <code>useEffect</code> and <code>useContext</code>. Literally, <code>useState</code> is the state hook which allows you to use state in functional component. And <code>useEffect</code> is the effect hook which is working like lifecycle API, such as <code>componentDidMount()</code>, <code>componentWillUnmount()</code> and <code>componentDidUpdate()</code>. Lastly, <code>useContext</code> is the hook of <code>Context</code> created by <code>React.createContext()</code>.</p><p>Additionally, there are more hooks <code>useReducer</code>, <code>useCallback</code>, <code>useMemo</code>, <code>useRef</code>, etc.</p><h2><a href="https://react-redux.js.org/introduction/quick-start">React Redux</a></h2><p>The React Redux is the tool which let you manage the global state in centralized store and use the global state in any component inside the app. It enables you(especially, team size) to control the global state in encapsulated way.</p><h2>React Hooks instead of React Redux</h2><p>It is possible to replace the React Redux with React Hooks successfully without losing any good purpose of using React Redux with less code and more maintainability.</p><h3>Create the store (initValue + reducer)</h3><pre><code class="hljs language-javascript"><span class="hljs-comment">// HooduxStore.js</span>

<span class="hljs-keyword">const</span> initValue = {
  <span class="hljs-attr">isLogin</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">token</span>: <span class="hljs-string">&quot;&quot;</span>
};

<span class="hljs-keyword">const</span> reducer = <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> {
  <span class="hljs-keyword">switch</span> (action.type) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;setLogin&quot;</span>:
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">isLogin</span>: action.payload };
    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;setToken&quot;</span>:
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">token</span>: action.payload };
    <span class="hljs-keyword">default</span>:
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">&quot;wrong action.type&quot;</span>);
  }
};</code></pre><h3>Wrap the top level component(eg. App.js) with Context</h3><pre><code class="hljs language-javascript"><span class="hljs-comment">// App.js</span>

<span class="hljs-keyword">const</span> MyContext = React.createContext();

<span class="hljs-keyword">const</span> App = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> [state, dispatch] = useReducer(reducer, initValue);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">MyContext.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">state</span>, <span class="hljs-attr">dispatch</span> }}&gt;</span>
      </span>&lt;Header /&gt;<span class="xml">
      </span>&lt;LogIn /&gt;<span class="xml">
    <span class="hljs-tag">&lt;/<span class="hljs-name">MyContext.Provider</span>&gt;</span>
  );
};</span></code></pre><blockquote><p>You can use the context wrapper component in higher order if you like.</p></blockquote><h3>Pull and use <code>state</code> and <code>dispatch</code></h3><pre><code class="hljs language-javascript"><span class="hljs-comment">// Login.js</span>

<span class="hljs-keyword">const</span> { state, dispatch } = useContext(MyContext);

<span class="hljs-keyword">const</span> handleLogin = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  dispatch({ <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;setLogin&quot;</span>, <span class="hljs-attr">payload</span>: <span class="hljs-literal">true</span> });
};

<span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{state.isLogin ? &quot;You are logged in&quot; : &quot;Not logged in&quot;}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;</code></pre><h2>Conclusion</h2><p><code>useReducer</code> make a lot easier to pull and use the <code>state</code> and <code>dispatch</code> instead of using <code>connect()</code> in React Redux. If you&#x27;re familiar with it, you know how it works. In React Redux,every single component, you want to use <code>state</code> or <code>dispatch</code>, needs to be connected. But with <code>useReducer</code>, you need to call it just once in component if you want it to be.</p></div></div></div></div><div id="header" class="jsx-3116055885"><div class="jsx-3116055885 container"><div class="jsx-3116055885 header-container"><div id="header-title" class="jsx-3116055885"><a href="/" class="jsx-3116055885">Build the Codes</a></div><div id="header-body" class="jsx-3116055885"><div id="avatar-img" style="background-image:url(&quot;/static/images/avatar/moondaddi_avatar.jpg&quot;)" class="jsx-3116055885"></div><div id="profile" class="jsx-3116055885"><div id="name" class="jsx-3116055885"><a href="/about" class="jsx-3116055885">moondaddi</a></div><div class="jsx-3116055885">My dreams with Codes</div></div><div id="menu" class="jsx-3116055885"><div id="header-tag" class="jsx-3116055885"><a href="/tag" class="jsx-3116055885">Tags</a></div><div id="header-about" class="jsx-3116055885"><a href="/about" class="jsx-3116055885">About</a></div></div></div></div></div></div><div id="footer" class="jsx-3376242649"><div class="jsx-3376242649 container"><div class="jsx-3376242649 footer-container"><div id="footer-github" class="jsx-3376242649"><a href="https://github.com/mattdamon108" target="_blank" class="jsx-3376242649">Github</a></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/post","query":{"filename":"2019-02-11-How-to-Replace-Redux-with-Hooks"},"buildId":"8DfdFfCbaibU3Hkewn77p","nextExport":true}</script><script async="" id="__NEXT_PAGE__/post" src="/_next/static/8DfdFfCbaibU3Hkewn77p/pages/post.js"></script><script async="" id="__NEXT_PAGE__/_app" src="/_next/static/8DfdFfCbaibU3Hkewn77p/pages/_app.js"></script><script src="/_next/static/runtime/webpack-838b392324e3598684b5.js" async=""></script><script src="/_next/static/chunks/commons.ee9de452db16e3109491.js" async=""></script><script src="/_next/static/runtime/main-97da79c9c9960a7c6dea.js" async=""></script></body></html>
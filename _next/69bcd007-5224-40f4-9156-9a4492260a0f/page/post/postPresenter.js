module.exports=__NEXT_REGISTER_PAGE("/post/postPresenter",function(){return{page:webpackJsonp([7],{138:function(e,a,n){"use strict";a.a="\n.index-h2-title {\n  display: inline-block;\n  border: 5px solid #2c3e50;\n  border-radius: 35px;\n  padding: 10px 20px;\n  background-color: #fff;\n}\n.pinned {\n  border: 5px solid #e74c3c;\n}\n#latest {\n  color: #f39c12;\n}\n#pinned {\n  color: #e74c3c;\n}\n\n.post-card {\n  background-color: #fff;\n  border: 1px solid #eee;\n  padding: 20px;\n  margin-bottom: 50px;\n  border-radius: 5px;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n}\n\nimg {\n\twidth: 100%;\n\tmax-width: fit-content;\n}\n\nblockquote {\n  margin: 0;\n  padding: 0 1em;\n  color: #6a737d;\n  border-left: 0.25em solid #dfe2e5;\n\tword-break: break-word;\n}\n\ncode {\n  color: #c0392b;\n  padding: 2px 3px;\n  border: 1px solid #ccc;\n  border-radius: 3px;\n}\n\npre code {\n  overflow: auto;\n  word-wrap: normal;\n  white-space: pre;\n  // width: calc(100vw - 360px);\n}\n\n/* a11y-dark theme */\n/* Based on the Tomorrow Night Eighties theme: https://github.com/isagalaev/highlight.js/blob/master/src/styles/tomorrow-night-eighties.css */\n/* @author: ericwbailey */\n\n/* Comment */\n.hljs-comment,\n.hljs-quote {\n  color: #d4d0ab;\n}\n\n/* Red */\n.hljs-variable,\n.hljs-template-variable,\n.hljs-tag,\n.hljs-name,\n.hljs-selector-id,\n.hljs-selector-class,\n.hljs-regexp,\n.hljs-deletion {\n  color: #ffa07a;\n}\n\n/* Orange */\n.hljs-number,\n.hljs-built_in,\n.hljs-builtin-name,\n.hljs-literal,\n.hljs-type,\n.hljs-params,\n.hljs-meta,\n.hljs-link {\n  color: #f5ab35;\n}\n\n/* Yellow */\n.hljs-attribute {\n  color: #ffd700;\n}\n\n/* Green */\n.hljs-string,\n.hljs-symbol,\n.hljs-bullet,\n.hljs-addition {\n  color: #abe338;\n}\n\n/* Blue */\n.hljs-title,\n.hljs-section {\n  color: #00e0e0;\n}\n\n/* Purple */\n.hljs-keyword,\n.hljs-selector-tag {\n  color: #dcc6e0;\n}\n\n.hljs {\n  display: block;\n  overflow-x: auto;\n  background: #2b2b2b;\n  color: #f8f8f2;\n  padding: 1rem;\n  font-size: 1rem;\n  border-radius: 5px;\n}\n\n.hljs-emphasis {\n  font-style: italic;\n}\n\n.hljs-strong {\n  font-weight: bold;\n}\n\n@media screen and (-ms-high-contrast: active) {\n  .hljs-addition,\n  .hljs-attribute,\n  .hljs-built_in,\n  .hljs-builtin-name,\n  .hljs-bullet,\n  .hljs-comment,\n  .hljs-link,\n  .hljs-literal,\n  .hljs-meta,\n  .hljs-number,\n  .hljs-params,\n  .hljs-string,\n  .hljs-symbol,\n  .hljs-type,\n  .hljs-quote {\n        color: highlight;\n    }\n\n    .hljs-keyword,\n    .hljs-selector-tag {\n        font-weight: bold;\n    }\n}\n\n@media (max-width: 576px) {\n  pre {\n    width: calc(100vw - 60px);\n  }\n}\n"},139:function(e,a,n){var t={"./2018-08-24-First-Post.md":140,"./2018-08-24-Markdown-summary.md":146,"./2018-08-25-Making-virtualenv-for-Django.md":147,"./2018-08-28-File-upload-with-GraphQL-Apollo-Client-Django-Graphene.md":148,"./2018-08-30-How-to-align-element-to-vertical-center.md":149,"./2018-08-31-Nested-Comment-Reply-sturcture-with-ReactJS.md":150,"./2018-09-01-How-to-highlight-code-in-jekyll.md":151,"./2018-09-08-How-to-set-state-with-data-from-graphQL-query.md":152,"./2018-09-27-postmaster-pid-Location.md":153,"./2018-12-10-Netplan-how-to-connect-wpa2-linux.md":154,"./2018-12-18-AWS-EB-Load-Balancer-redirect-to-https.md":155,"./2018-12-24-Deploy-Prisma-Server-to-AWS-with-Docker.md":156,"./2019-01-11-Deploy-Nextjs-app-to-AWS-Lambda.md":157,"./2019-02-11-How-to-Replace-Redux-with-Hooks.md":158,"./2019-02-25-Commands-for-Postgres-DB-setup.md":159,"./2019-03-05-Kill-Process-Using-Port.md":160};function s(e){return n(o(e))}function o(e){var a=t[e];if(!(a+1))throw new Error("Cannot find module '"+e+"'.");return a}s.keys=function(){return Object.keys(t)},s.resolve=o,e.exports=s,s.id=139},140:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=n(1),s=n.n(t),o=n(2);n.n(o);a.default=function(e){var a=e.components;!function(e,a){if(null==e)return{};var n,t,s={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(s[n]=e[n]);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(t=0;t<m.length;t++)n=m[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}}(e,["components"]);return s.a.createElement(o.MDXTag,{name:"wrapper",components:a},s.a.createElement(o.MDXTag,{name:"h1",components:a},"First Post"),s.a.createElement(o.MDXTag,{name:"p",components:a},"by Moondaddi on 2018-08-24"),s.a.createElement(o.MDXTag,{name:"hr",components:a}),s.a.createElement(o.MDXTag,{name:"h3",components:a},"Late start, but a big step forward"),s.a.createElement(o.MDXTag,{name:"p",components:a},"This is my first post of my Blog for storing codes while learnig and working on."))}},141:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},s=function(){function e(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(a,n,t){return n&&e(a.prototype,n),t&&e(a,t),a}}(),o=n(1),m=c(o),p=c(n(179)),r=n(5);function c(e){return e&&e.__esModule?e:{default:e}}var l={inlineCode:"code",wrapper:"div"},i=function(e){function a(){return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?e:a}(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}(a,o.Component),s(a,[{key:"render",value:function(){var e=this.props,a=e.name,n=e.parentName,s=e.props,o=void 0===s?{}:s,r=e.children,c=e.components,i=void 0===c?{}:c,g=e.Layout,d=e.layoutProps,N=i[n+"."+a]||i[a]||l[a]||a;return g?((0,p.default)(this,g),m.default.createElement(g,t({components:i},d),m.default.createElement(N,o,r))):m.default.createElement(N,o,r)}}]),a}();a.default=(0,r.withMDXComponents)(i)},142:function(e,a,n){"use strict";a.__esModule=!0;var t=o(n(1)),s=o(n(143));function o(e){return e&&e.__esModule?e:{default:e}}a.default=t.default.createContext||s.default,e.exports=a.default},143:function(e,a,n){"use strict";a.__esModule=!0;var t=n(1),s=(m(t),m(n(4))),o=m(n(144));m(n(145));function m(e){return e&&e.__esModule?e:{default:e}}function p(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function r(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?e:a}function c(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}var l=1073741823;a.default=function(e,a){var n,m,i="__create-react-context-"+(0,o.default)()+"__",g=function(e){function n(){var a,t,s,o;p(this,n);for(var m=arguments.length,c=Array(m),l=0;l<m;l++)c[l]=arguments[l];return a=t=r(this,e.call.apply(e,[this].concat(c))),t.emitter=(s=t.props.value,o=[],{on:function(e){o.push(e)},off:function(e){o=o.filter(function(a){return a!==e})},get:function(){return s},set:function(e,a){s=e,o.forEach(function(e){return e(s,a)})}}),r(t,a)}return c(n,e),n.prototype.getChildContext=function(){var e;return(e={})[i]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,t=e.value,s=void 0;((o=n)===(m=t)?0!==o||1/o==1/m:o!=o&&m!=m)?s=0:(s="function"==typeof a?a(n,t):l,0!=(s|=0)&&this.emitter.set(e.value,s))}var o,m},n.prototype.render=function(){return this.props.children},n}(t.Component);g.childContextTypes=((n={})[i]=s.default.object.isRequired,n);var d=function(a){function n(){var e,t;p(this,n);for(var s=arguments.length,o=Array(s),m=0;m<s;m++)o[m]=arguments[m];return e=t=r(this,a.call.apply(a,[this].concat(o))),t.state={value:t.getValue()},t.onUpdate=function(e,a){0!=((0|t.observedBits)&a)&&t.setState({value:t.getValue()})},r(t,e)}return c(n,a),n.prototype.componentWillReceiveProps=function(e){var a=e.observedBits;this.observedBits=void 0===a||null===a?l:a},n.prototype.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?l:e},n.prototype.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[i]?this.context[i].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return d.contextTypes=((m={})[i]=s.default.object,m),{Provider:g,Consumer:d}},e.exports=a.default},144:function(e,a,n){"use strict";(function(a){var n="__global_unique_id__";e.exports=function(){return a[n]=(a[n]||0)+1}}).call(a,n(173))},145:function(e,a,n){"use strict";var t=n(178);e.exports=t},146:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=n(1),s=n.n(t),o=n(2);n.n(o);a.default=function(e){var a=e.components;!function(e,a){if(null==e)return{};var n,t,s={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(s[n]=e[n]);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(t=0;t<m.length;t++)n=m[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}}(e,["components"]);return s.a.createElement(o.MDXTag,{name:"wrapper",components:a},s.a.createElement(o.MDXTag,{name:"h1",components:a},"Markdown Summary for future me"),s.a.createElement(o.MDXTag,{name:"p",components:a},"by Moondaddi on 2018-08-24"),s.a.createElement(o.MDXTag,{name:"hr",components:a}),s.a.createElement(o.MDXTag,{name:"h3",components:a},"a Note for future me about Markdown syntax"),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Headers"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-code",metaString:""}},"# H1\n## H2\n### H3\n#### H4\n##### H5\n###### H6")),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Blockquote"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-code",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},">"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," This is a blockquote"))),s.a.createElement(o.MDXTag,{name:"blockquote",components:a},s.a.createElement(o.MDXTag,{name:"p",components:a,parentName:"blockquote"},"This is a blockquote")),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"List"),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h3",components:a},"1) Ordered"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-code",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"1.")," first\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"2.")," second\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"3.")," third")),s.a.createElement(o.MDXTag,{name:"ol",components:a},s.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ol"},"first"),s.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ol"},"second"),s.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ol"},"thrid")),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h3",components:a},"2) UnOrdered"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-code",metaString:""}},"-",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"ruby"}}," Red\n"),"  -",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"ruby"}}," Green\n"),"    -",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"ruby"}}," Blue\n"),"\nor '+', '-', '='")),s.a.createElement(o.MDXTag,{name:"ul",components:a},s.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},s.a.createElement(o.MDXTag,{name:"p",components:a,parentName:"li"},"Red"),s.a.createElement(o.MDXTag,{name:"ul",components:a,parentName:"li"},s.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},s.a.createElement(o.MDXTag,{name:"p",components:a,parentName:"li"},"Green"),s.a.createElement(o.MDXTag,{name:"ul",components:a,parentName:"li"},s.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},"Blue")))))),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Code"),s.a.createElement(o.MDXTag,{name:"p",components:a},"4 space spacing or 1 tab"),s.a.createElement(o.MDXTag,{name:"blockquote",components:a},s.a.createElement(o.MDXTag,{name:"p",components:a,parentName:"blockquote"},"linebreak often breaks the code block")),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"5. Horizontal Line"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-code",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-bullet"}},"* "),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-bullet"}},"* *"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-emphasis"}},"***"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-strong"}},"*****"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-section"}},"- - -\n-----------------"))),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"hr",components:a}),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"6. Link"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-code",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"<",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"https:"),"//",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"www.google.com"),">")),"\n[",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"Google"),"](",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-link"}},"https://www.google.com"),")")),s.a.createElement(o.MDXTag,{name:"p",components:a},s.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://www.google.com"}},"https://www.google.com"),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://www.google.com"}},"Google")),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"7. Text Style"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-code",metaString:""}},"*italic* ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"or")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-variable"}},"_italic_"),"\n**bold** ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"or")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-variable"}},"__bold__"),"\n***italic bold*** ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"or")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-variable"}},"___italic")," bold___\n<u>underline</u>\n~~canceline~~")),s.a.createElement(o.MDXTag,{name:"p",components:a},s.a.createElement(o.MDXTag,{name:"em",components:a,parentName:"p"},"italic"),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"strong",components:a,parentName:"p"},"bold"),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"strong",components:a,parentName:"p"},s.a.createElement(o.MDXTag,{name:"em",components:a,parentName:"strong"},"italic bold")),s.a.createElement("br",null),s.a.createElement("u",null,"underline"),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"del",components:a,parentName:"p"},"canceline")),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"8. Image"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-code",metaString:""}},"![",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"Alt text"),"](",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-link"}},"/path/to/img.jpg"),")\n![",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"Alt text"),"](",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-link"}},'/path/to/img.jpg "Optional title"'),")")),s.a.createElement(o.MDXTag,{name:"blockquote",components:a},s.a.createElement(o.MDXTag,{name:"p",components:a,parentName:"blockquote"},"Note: Size control is not supported.")),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"9. Line break"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-code",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-section"}},"<br />"))))}},147:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=n(1),s=n.n(t),o=n(2);n.n(o);a.default=function(e){var a=e.components;!function(e,a){if(null==e)return{};var n,t,s={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(s[n]=e[n]);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(t=0;t<m.length;t++)n=m[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}}(e,["components"]);return s.a.createElement(o.MDXTag,{name:"wrapper",components:a},s.a.createElement(o.MDXTag,{name:"h1",components:a},"Making virtualenv for staring Django project on MacOS"),s.a.createElement(o.MDXTag,{name:"p",components:a},"by Moondaddi on 2018-08-25"),s.a.createElement(o.MDXTag,{name:"hr",components:a}),s.a.createElement(o.MDXTag,{name:"h3",components:a},"Commands examples to make a virtualenv and prerequisites for Django project start on MacOS"),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"blockquote",components:a},s.a.createElement(o.MDXTag,{name:"p",components:a,parentName:"blockquote"},"The below commands are working only for MacOS")),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"1. Make the project foler"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-code",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," mkdir some_project"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-built_in"}},"cd")," some_project"))),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"2. Set up Virtualenv"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-code",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," python -m venv env_some_project"))),s.a.createElement(o.MDXTag,{name:"blockquote",components:a},s.a.createElement(o.MDXTag,{name:"p",components:a,parentName:"blockquote"},"I'm using pyenv for version control of python")),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"3. Activate the virtualenv"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-code",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-built_in"}},"source")," ./env_some_project/bin/activate"))),s.a.createElement(o.MDXTag,{name:"blockquote",components:a},s.a.createElement(o.MDXTag,{name:"p",components:a,parentName:"blockquote"},"Note: prefix (env_some_project) will appear when virtual env is activated successfully")),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"4. Install Django"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-code",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," pip3 install django"))),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"5. Start project"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-code",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," django-admin startproject some_project"))),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"6. Start app"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-code",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," python manage.py startapp some_app"))),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"7. settings.py"),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h3",components:a},"7-1. Add app in ","[INSTALLED_APPS]"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-python",metaString:""}},"INSTALLED_APPS = [\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'django.contrib.admin'"),",\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'django.contrib.auth'"),",\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'django.contrib.contenttypes'"),",\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'django.contrib.sessions'"),",\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'django.contrib.messages'"),",\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'django.contrib.staticfiles'"),",\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'django.contrib.humanize'"),",\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'some_app'"),",\n]")),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h3",components:a},"7-2. Setting DB"),s.a.createElement(o.MDXTag,{name:"blockquote",components:a},s.a.createElement(o.MDXTag,{name:"p",components:a,parentName:"blockquote"},"postgres")),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-python",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"if")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'RDS_DB_NAME'")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"in")," os.environ:\n    DATABASES = {\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'default'"),": {\n            ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'ENGINE'"),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'django.db.backends.postgresql_psycopg2'"),",\n            ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'NAME'"),": os.environ[",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'RDS_DB_NAME'"),"],\n            ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'USER'"),": os.environ[",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'RDS_USERNAME'"),"],\n            ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'PASSWORD'"),": os.environ[",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'RDS_PASSWORD'"),"],\n            ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'HOST'"),": os.environ[",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'RDS_HOSTNAME'"),"],\n            ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'PORT'"),": os.environ[",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'RDS_PORT'"),"],\n        }\n    }\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"else"),":\n    DATABASES = {\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'default'"),": {\n            ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'ENGINE'"),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'django.db.backends.postgresql_psycopg2'"),",\n            ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'NAME'"),": DB_NAME,\n            ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'USER'"),": DB_USER,\n            ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'PASSWORD'"),": DB_PASSWORD,\n            ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'HOST'"),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'localhost'"),",\n            ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'PORT'"),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"''"),",\n        }\n    }")))}},148:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=n(1),s=n.n(t),o=n(2);n.n(o);a.default=function(e){var a=e.components;!function(e,a){if(null==e)return{};var n,t,s={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(s[n]=e[n]);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(t=0;t<m.length;t++)n=m[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}}(e,["components"]);return s.a.createElement(o.MDXTag,{name:"wrapper",components:a},s.a.createElement(o.MDXTag,{name:"h1",components:a},"File upload with GraphQL Apollo client & Django + Graphene"),s.a.createElement(o.MDXTag,{name:"p",components:a},"by Moondaddi on 2018-08-28"),s.a.createElement(o.MDXTag,{name:"hr",components:a}),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Requirements"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-code",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," pip install django"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," pip install graphene_django"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," pip install graphene-file-upload"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," pip install python-resize-image"))),s.a.createElement(o.MDXTag,{name:"ul",components:a},s.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},"Django==2.0.7"),s.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},"graphene==2.1.2"),s.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},"graphene-django==2.0.0"),s.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},"graphene-file-upload==1.0.0"),s.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},"graphql-core==2.0"),s.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},"graphql-relay==0.4.5"),s.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},"python-resize-image==1.1.11")),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Backend"),s.a.createElement(o.MDXTag,{name:"blockquote",components:a},s.a.createElement(o.MDXTag,{name:"p",components:a,parentName:"blockquote"},"Mutation part")),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-python",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," graphene\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," graphene_django ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," DjangoObjectType\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," graphene_file_upload.scalars ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," Upload\n\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-class"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"class")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"CUDNewsBoard"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"(graphene.Mutation)"),":"),"\n  newsboard = graphene.Field(NewsBoardType)\n\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-class"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"class")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"Arguments"),":")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"# other arguments up here..."),"\n  files = Upload()\n\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"def")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"mutate"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"(self, info, files=None, ...)"),":"),"\n    user = info.context.user\n\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"if")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"not")," user.is_staff:\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"raise")," Exception(",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'Admin permission is required!'"),")\n\n    post = NewsBoard(user=user, title=title, content=content)\n    post.save()\n\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"if")," files:\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"for")," file ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"in")," files:\n\n        postimage = NewsBoardImage(post=post, image=",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"None"),")\n        postimage.save()\n\n        image_obj = Image.open(file)\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"# resize image"),"\n        image_obj = resizeimage.resize_width(image_obj, ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"800"),", validate=",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"False"),")\n\n        new_image_io = BytesIO()\n        image_obj.save(new_image_io, image_obj.format)\n\n        temp_name = file.name\n\n        postimage.image.save(\n          temp_name,\n          content=ContentFile(new_image_io.getvalue())\n        )\n\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," CUDNewsBoard(newsboard=post)")),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Frontend"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-javascript",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," NEW_POST_NEWS = gql",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"`\nmutation postNew($files: Upload, ...) {\n  cudNewsboard(files: $files, ...) {\n    newsboard {\n      id\n      user {\n        id\n        fullname\n      }\n      title\n      content\n      firstDate\n      views\n      likes {\n        id\n      }\n      newsboardimages {\n        id\n        image\n      }\n    }\n  }\n}\n`"),";\n\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-class"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"class")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"BoardNewsInput")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"extends")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"Component")," "),"{\n  state = {\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"images"),": []\n  };\n\n  render() {\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," (\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"<",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"div"),">"),"\n        "),'<input\n          type="file"\n          name="image"\n          onChange={({\n            target: {\n              validity,\n              files: [file]\n            }\n          }) =>\n            validity.valid &&\n            this.setState({\n              images: [...this.state.images, file]\n            })\n          }\n        />\n        <Mutation\n          mutation={NEW_POST_NEWS}\n          variables={{\n            files: this.state.images ? this.state.images : null\n          }}\n        >\n          {(cudNewsboard, { loading, error, data }) => (\n            <button\n              onClick={() => {\n                cudNewsboard();\n              }}\n            >\n              POST\n            </button>\n          )}\n        </Mutation>\n      </div>',s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},"\n    );\n  }\n}"))),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Lesson & Learn"),s.a.createElement(o.MDXTag,{name:"ol",components:a},s.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ol"},"Array can be substitutive for FileList object in this case.")),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-javascript",metaString:""}},"state = {\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"images"),": [file, file, file, ...]\n}")),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"ol",components:a,props:{start:2}},s.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ol"},"Input onChange method")),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-javascript",metaString:""}},"<input\n  onChange={({ validity, ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"files"),": [file] }) =>\n    validity.valid &&\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"this"),".setState(",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"prevState")," =>")," {\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"images"),": [...prevState.images, file];\n    })\n  }\n/>")),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"References"))}},149:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=n(1),s=n.n(t),o=n(2);n.n(o);a.default=function(e){var a=e.components;!function(e,a){if(null==e)return{};var n,t,s={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(s[n]=e[n]);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(t=0;t<m.length;t++)n=m[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}}(e,["components"]);return s.a.createElement(o.MDXTag,{name:"wrapper",components:a},s.a.createElement(o.MDXTag,{name:"h1",components:a},"Some different ways to align element to vertical center"),s.a.createElement(o.MDXTag,{name:"p",components:a},"by Moondaddi on 2018-08-30"),s.a.createElement(o.MDXTag,{name:"hr",components:a}),s.a.createElement(o.MDXTag,{name:"h3",components:a},"Alignment to vertical center against wrapping parent element using CSS transform"),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Why is it special?"),s.a.createElement(o.MDXTag,{name:"p",components:a},"Generally, there are some tools and how-to to align element against parent element. But, in this case parent element has flexible width and height with fixed aspect ratio(1:1)."),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-html",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-tag"}},"<",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"div")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"class"),"=",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},'"card"'),">"),"\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-tag"}},"<",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"div")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"style"),"=",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},'"max-width:100%; padding-top:100%;"'),">"),"\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-tag"}},"<",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"img"),"\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"src"),"=",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},'"/some/thing.jpg"'),"\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"alt"),"=",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},'"something"'),"\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"style"),"=",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},'"\n        position:absolute\n        top:50%;\n        left:0;\n        max-width:100%;\n        transform:translateY(-50%);"'),"\n    />"),"\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-tag"}},"</",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"div"),">"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-tag"}},"</",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"div"),">"))),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Lesson & Learn"),s.a.createElement(o.MDXTag,{name:"p",components:a},"Use Flexbox! 👍"))}},150:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=n(1),s=n.n(t),o=n(2);n.n(o);a.default=function(e){var a=e.components;!function(e,a){if(null==e)return{};var n,t,s={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(s[n]=e[n]);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(t=0;t<m.length;t++)n=m[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}}(e,["components"]);return s.a.createElement(o.MDXTag,{name:"wrapper",components:a},s.a.createElement(o.MDXTag,{name:"h1",components:a},"Nested Comment Reply stucture with ReactJS"),s.a.createElement(o.MDXTag,{name:"p",components:a},"by Moondaddi on 2018-08-31"),s.a.createElement(o.MDXTag,{name:"hr",components:a}),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Nested Comment Reply structure?"),s.a.createElement(o.MDXTag,{name:"p",components:a},s.a.createElement(o.MDXTag,{name:"img",components:a,parentName:"p",props:{src:"/static/images/post_img/2018-08-31_nested-structure.jpg",alt:"Nested Comment Structure"}})),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"How-to with ReactJS"),s.a.createElement(o.MDXTag,{name:"p",components:a},"It can be resolve with loop structures with ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"<Comment />")," and ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"<Comments>")),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-javascript",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," Comments = ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},"(",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"{ items, postId, commentId, level, history }"),") =>")," {\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"if")," (items) {\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," items.map(",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"item")," =>")," {\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"if")," (!item.parentComment || level !== ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"0"),") {\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," (\n          ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"<",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"Comment"),"\n            ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"item"),"=",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},"{item}"),"\n            ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"postId"),"=",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},"{postId}"),"\n            ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"parentCommentId"),"=",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},"{commentId}"),"\n            ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"key"),"=",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},"{item.id}"),"\n            ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"level"),"=",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},"{level}"),"\n            ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"history"),"=",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},"{history}"),"\n          />"),"\n        );\n      } else {\n        return null;\n      }\n    });\n  } else {\n    return null;\n  }\n};\n\nclass Comment extends React.Component {\n  render() {\n    return (\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"<>"),"\n        {this.props.item.recomment.length > 0 ? (\n          "),"<Comments\n            items={data.qnaboardcomment}\n            postId={this.props.postId}\n            level={this.props.level + 1}\n            history={this.props.history}\n            commentId={this.props.item.id}\n          />\n        ) : null}\n      </>\n    );\n  }\n}")))}},151:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=n(1),s=n.n(t),o=n(2);n.n(o);a.default=function(e){var a=e.components;!function(e,a){if(null==e)return{};var n,t,s={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(s[n]=e[n]);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(t=0;t<m.length;t++)n=m[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}}(e,["components"]);return s.a.createElement(o.MDXTag,{name:"wrapper",components:a},s.a.createElement(o.MDXTag,{name:"h1",components:a},"How to highlight code in jekyll post"),s.a.createElement(o.MDXTag,{name:"p",components:a},"by Moondaddi on 2018-09-01"),s.a.createElement(o.MDXTag,{name:"hr",components:a}),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Check ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"h2"},"_config.yml")),s.a.createElement(o.MDXTag,{name:"p",components:a},"highlighter: rouge"),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Usage - ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"h2"},"Liquid templating")),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-jekyll",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}}),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-template-tag"}},"{% ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"highlight")," some-language %}"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},"\n...\n"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-template-tag"}},"{% ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"endhighlight")," %}"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}}))))}},152:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=n(1),s=n.n(t),o=n(2);n.n(o);a.default=function(e){var a=e.components;!function(e,a){if(null==e)return{};var n,t,s={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(s[n]=e[n]);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(t=0;t<m.length;t++)n=m[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}}(e,["components"]);return s.a.createElement(o.MDXTag,{name:"wrapper",components:a},s.a.createElement(o.MDXTag,{name:"h1",components:a},"How to set state with data from apollo grapqhQL query"),s.a.createElement(o.MDXTag,{name:"p",components:a},"by Moondaddi on 2018-09-08"),s.a.createElement(o.MDXTag,{name:"hr",components:a}),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Prefill the form with query data"),s.a.createElement(o.MDXTag,{name:"ul",components:a},s.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},"prefill values into form or render data into DOM after query"),s.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},"modify data after query")),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Solution 1"),s.a.createElement(o.MDXTag,{name:"h3",components:a},"in componentDidMount()"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-javascript",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," React ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"react"'),";\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," { Query } ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"react-apollo"'),";\n\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-class"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"class")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"Example")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"extends")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"React"),".",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"Component")," "),"{\n  state = {\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"some"),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-literal"}},"null"),"\n  };\n\n  componentDidMount() {\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"this"),"._queryMe\n      .query({\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"query"),": other - query,\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"variables"),": { ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"some"),": thing }\n      })\n      .then(",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"response")," =>")," {\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"this"),".setState({\n          ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"some"),": data.me.nickname\n        });\n      })\n      .catch(",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"error")," =>")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"console"),".log(error));\n  }\n\n  render() {\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," (\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"<",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"Query")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"query"),"=",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},"{some")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"-")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"query"),"}>"),"\n        {({ client }) => {\n          this._queryMe = client;\n\n          return null;\n        }}\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"</",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"Query"),">")),"\n    );\n  }\n}")),s.a.createElement(o.MDXTag,{name:"h3",components:a},"props function : onCompleted"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-javascript",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," React ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'react'"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," { Query } ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'react-apollo'"),"\n\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-class"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"class")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"Example")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"extends")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"React"),".",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"Component")," "),"{\n  state = {\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"some"),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-literal"}},"null"),"\n  }\n\n  _queryMe = ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"data")," =>")," {\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"this"),".setState({\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"some"),": data\n    })\n  }\n\n  render() {\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," (\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"<",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"Query"),"\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"query"),"=",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},"{some-query}"),"\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"onCompleted"),"=",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},"{data")," =>")," this._queryMe(data)}\n      >\n        {() => {\n          return null;\n        }}\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"</",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"Query"),">")),"\n    )\n  }\n}")),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Solution 2 (The BEST 👍)"),s.a.createElement(o.MDXTag,{name:"p",components:a},"Using HOC withApollo"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-javascript",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-class"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"class")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"Example")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"extends")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"React"),".",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"Component")," "),"{\n  state = {\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"some"),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-literal"}},"null"),"\n  };\n\n  componentDidMount() {\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"this"),".props.client\n      .query({\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"query"),": some_query,\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"variables"),": {\n          ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"id"),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"1"),"\n        }\n      })\n      .then(",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"res")," =>"),"\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"this"),".setState({\n          ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"some"),": res\n        })\n      );\n  }\n\n  render() {\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"<",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"div"),">"),"...",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"</",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"div"),">")),";\n  }\n}\n\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// using HOC"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"export")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"default")," withApollo(Example);")))}},153:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=n(1),s=n.n(t),o=n(2);n.n(o);a.default=function(e){var a=e.components;!function(e,a){if(null==e)return{};var n,t,s={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(s[n]=e[n]);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(t=0;t<m.length;t++)n=m[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}}(e,["components"]);return s.a.createElement(o.MDXTag,{name:"wrapper",components:a},s.a.createElement(o.MDXTag,{name:"h1",components:a},"'postmaster.pid' File Location"),s.a.createElement(o.MDXTag,{name:"p",components:a},"by Moondaddi on 2018-09-27"),s.a.createElement(o.MDXTag,{name:"hr",components:a}),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Where is the 'postmaster.pid'?"),s.a.createElement(o.MDXTag,{name:"p",components:a},"Time to time, I encounter the error when I try to start PostgreSQL DB again. Especially, right after cold power-off, it comes a lot to me. If you use GUI interface of PostgreSQL, it gives you a long instruction failed to start properly. But, simply, you can start again after delete this 'postmaster.pid' file in your macOS system."),s.a.createElement("br",null),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Location of 'postmaster.pid'"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},"/Users/user_name/Library/Application Support/Postgres/var-10")),s.a.createElement(o.MDXTag,{name:"blockquote",components:a},s.a.createElement(o.MDXTag,{name:"p",components:a,parentName:"blockquote"},"Note: PostgreSQL ver. 10, it can be changed depends on what version of postgres you use.")))}},154:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=n(1),s=n.n(t),o=n(2);n.n(o);a.default=function(e){var a=e.components;!function(e,a){if(null==e)return{};var n,t,s={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(s[n]=e[n]);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(t=0;t<m.length;t++)n=m[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}}(e,["components"]);return s.a.createElement(o.MDXTag,{name:"wrapper",components:a},s.a.createElement(o.MDXTag,{name:"h1",components:a},"[Linux]"," How to connect to wireless WPA2 with Netplan"),s.a.createElement(o.MDXTag,{name:"p",components:a},"by moondaddi on 2018-12-10"),s.a.createElement(o.MDXTag,{name:"hr",components:a}),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Netplan?"),s.a.createElement(o.MDXTag,{name:"p",components:a},"Netplan is the utility for easily configuring networking on a linux system. Ubuntu 17.10 starts including the netplan by default instead of deprecated ifupdown."),s.a.createElement(o.MDXTag,{name:"h2",components:a},"How to connect"),s.a.createElement(o.MDXTag,{name:"h3",components:a},"Configure ","*",".yaml"),s.a.createElement(o.MDXTag,{name:"p",components:a},"Make new file with any name ","*",".yaml in ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"/etc/netplan"),"\nYou can make as many configuration files as you want. In that case, ","*",".yaml files will be applied by alphbetically."),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},'network:\n  version: 2\n    renderer: networkd\n    ethernets:  # this is for lan\n      enp2s0:\n        addresses: []\n        dhcp4: true\n    wifis:  # this is for wlan\n      wlp3s0:  # wlan interface\n        access-points: "SSID":  # your SSID\n          password: "PASWORD"  # your PASSWORD\n        dhcp4: no\n        dhcp6: true\n        addresses: [192.168.0.200/24]  # set the static IP\n        gateway4: 192.168.0.1  # gateway\n        nameservers:\n          addresses: [192.168.0.1,8.8.8.8,8.8.4.4]')),s.a.createElement(o.MDXTag,{name:"blockquote",components:a},s.a.createElement(o.MDXTag,{name:"p",components:a,parentName:"blockquote"},"How to check wlan interface")),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," iwconfig"))),s.a.createElement(o.MDXTag,{name:"h3",components:a},"Generate conf"),s.a.createElement(o.MDXTag,{name:"p",components:a},"The configuration files ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"/etc/netplan/*.yaml")," needs to be generated before applying to system. The ",s.a.createElement(o.MDXTag,{name:"em",components:a,parentName:"p"},".conf files will be generated in `/run/netplan/"),".conf` which shadow completely YAML files."),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," sudo netplan --debug generate"))),s.a.createElement(o.MDXTag,{name:"h3",components:a},"Apply the generated conf"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," sudo netplan apply"))),s.a.createElement(o.MDXTag,{name:"h3",components:a},"References"),s.a.createElement(o.MDXTag,{name:"p",components:a},"Netplan reference page (",s.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://netplan.io/reference"}},"https://netplan.io/reference"),")"))}},155:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=n(1),s=n.n(t),o=n(2);n.n(o);a.default=function(e){var a=e.components;!function(e,a){if(null==e)return{};var n,t,s={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(s[n]=e[n]);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(t=0;t<m.length;t++)n=m[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}}(e,["components"]);return s.a.createElement(o.MDXTag,{name:"wrapper",components:a},s.a.createElement(o.MDXTag,{name:"h1",components:a},"AWS Elastic Beanstalk makes redirect to HTTPS"),s.a.createElement(o.MDXTag,{name:"p",components:a},"by moondaddi on 2018-12-18"),s.a.createElement(o.MDXTag,{name:"hr",components:a}),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Elastic Load balancer and Elastic Beanstalk"),s.a.createElement(o.MDXTag,{name:"p",components:a},"AWS Elastic Load balancer automatically distributes incoming application traffic across multiple AWS EC2. It enables your application's falut tolerance level higher and seamlessly providing the required amount of load balancing capacity needed to distribute application traffics."),s.a.createElement(o.MDXTag,{name:"p",components:a},"When you deploy your application whatever it's built with any language to Elastic Beanstalk, Elastic Beanstalk automatically performs all required process in deployment for your application. One of requirements is Elastic Load balancer in front of EC2 which is generated by Elastic Beanstalk."),s.a.createElement(o.MDXTag,{name:"p",components:a},"Elastic Load balancer is listening the port 80 as default. And you can set 443 port for HTTPS."),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Redirect to HTTPS"),s.a.createElement(o.MDXTag,{name:"p",components:a},"Once everything sets up, You can access your application in Elastic Beanstalk through HTTP and also HTTPS."),s.a.createElement(o.MDXTag,{name:"p",components:a},"If you want all requests to port 80 to redirect to port 443, HTTPS, you can make ssl_redirect.config file in .ebextensions in your application root directory."),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-apache",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attribute"}},"files"),':\n    "/',s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attribute"}},"etc"),"/httpd/conf.d/ssl_redirect.conf",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'":\n        mode: "'),"000644",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"\n        owner: root\n        group: root\n        content: |\n            RewriteEngine On\n            <If "'),"-n '",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-variable"}},"%{HTTP:X-Forwarded-Proto}"),"' && ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-variable"}},"%{HTTP:X-Forwarded-Proto}")," != 'https'",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'">\n            RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [R,L]\n            </If>'))),s.a.createElement(o.MDXTag,{name:"h2",components:a},"How it works"),s.a.createElement(o.MDXTag,{name:"p",components:a},"During deployment of Elastic Beanstalk, it will check ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},".ebextendsion")," directory if any ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"*.config")," files there. If config file is found, Elastic Beanstalk will proceed it before applying the deployment of your application."),s.a.createElement(o.MDXTag,{name:"p",components:a},s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"ssl_redirect.config")," file will be generated in path ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"/etc/httpd/conf.d/")," and this will works for apache server to check any none https request and redirect it to https."))}},156:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=n(1),s=n.n(t),o=n(2);n.n(o);a.default=function(e){var a=e.components;!function(e,a){if(null==e)return{};var n,t,s={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(s[n]=e[n]);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(t=0;t<m.length;t++)n=m[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}}(e,["components"]);return s.a.createElement(o.MDXTag,{name:"wrapper",components:a},s.a.createElement(o.MDXTag,{name:"h1",components:a},"Deploy the Prisma Server to the AWS EC2 with Docker"),s.a.createElement(o.MDXTag,{name:"p",components:a},"by moondaddi on 2018-12-24"),s.a.createElement(o.MDXTag,{name:"hr",components:a}),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Prisma?"),s.a.createElement(o.MDXTag,{name:"p",components:a},"Simply, the ",s.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://www.prisma.io/"}},"Prisma")," is the new ORM(",s.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://en.wikipedia.org/wiki/Object-relational_mapping"}},"Object Relational Mapping"),") based on GraphQL query language. The Prisma can make your whole workflow to set up the graphQL API a lot easier. All you need is only graphQL schema in order to set up the graphQL API."),s.a.createElement(o.MDXTag,{name:"blockquote",components:a},s.a.createElement(o.MDXTag,{name:"p",components:a,parentName:"blockquote"},"ex. GraphQL schema")),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-graphql",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-selector-tag"}},"type")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-selector-tag"}},"Tweet")," {\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attribute"}},"id"),": ID! ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-variable"}},"@unique"),"\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attribute"}},"createdAt"),": DateTime!\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attribute"}},"text"),": String!\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attribute"}},"owner"),": User!\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attribute"}},"location"),": Location!\n}\n\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-selector-tag"}},"type")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-selector-tag"}},"User")," {\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attribute"}},"id"),": ID! ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-variable"}},"@unique"),"\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attribute"}},"createdAt"),": DateTime!\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attribute"}},"updatedAt"),": DateTime!\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attribute"}},"handle"),": String! ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-variable"}},"@unique"),"\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attribute"}},"name"),": String\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attribute"}},"tweets"),": [Tweet!]!\n}\n\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-selector-tag"}},"type")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-selector-tag"}},"Location")," {\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attribute"}},"latitude"),": Float!\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attribute"}},"longitude"),": Float!\n}")),s.a.createElement(o.MDXTag,{name:"p",components:a},"If you make your graphQL schema to ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"datamodel.prisma")," file. It's all set. Prisma will deploy your schema to the connected DB(Prisma Cloud or your Remote DB/Local DB) and generate all kind of graphQL schema (types and resolvers) for you automatically. Fantastic, isn't it?"),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Structure"),s.a.createElement(o.MDXTag,{name:"p",components:a},s.a.createElement(o.MDXTag,{name:"img",components:a,parentName:"p",props:{src:"/static/images/post_img/prisma_structure.jpg",alt:"Prisma structure"}})),s.a.createElement(o.MDXTag,{name:"blockquote",components:a},s.a.createElement(o.MDXTag,{name:"p",components:a,parentName:"blockquote"},"GraphQL API Server = GraphQL API + Prisma Server")),s.a.createElement(o.MDXTag,{name:"p",components:a},"Prisma API Server consists of two parts, ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"GraphQL API")," + ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Prisma Server"),". GraphQL API is the backend layer which contains your business logic, such as querying users, sign up, log in, locations, and so on. You can set it up with Express or GraphQL Yoga, etc. Otherwise, Prisma Server means the backend server which contains all the graphQL schema as per your data model and is connected to database. Prisma suggests the Docker in order to set up Prisma Server."),s.a.createElement(o.MDXTag,{name:"p",components:a},"This post will explain how to deploy this Prisma Server to AWS ECS and ECR service."),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Deploy the Prisma Server"),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Requirements"),s.a.createElement(o.MDXTag,{name:"ul",components:a},s.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},s.a.createElement(o.MDXTag,{name:"p",components:a,parentName:"li"},"Docker"),s.a.createElement(o.MDXTag,{name:"blockquote",components:a,parentName:"li"},s.a.createElement(o.MDXTag,{name:"p",components:a,parentName:"blockquote"},"(for mac) ",s.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://hub.docker.com/editions/community/docker-ce-desktop-mac"}},"https://hub.docker.com/editions/community/docker-ce-desktop-mac")))),s.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},s.a.createElement(o.MDXTag,{name:"p",components:a,parentName:"li"},"Prisma Cli"))),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," npm i -g prisma"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"#"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," or"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," yarn global add prisma"))),s.a.createElement(o.MDXTag,{name:"h2",components:a},"(Option 1) Using Docker machine"),s.a.createElement(o.MDXTag,{name:"p",components:a},"This is using docker-machine in cli. The docker-machine will create a docker machine on AWS EC2 directly. and docker-compose will compose the prisma server along with ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"docker-compse.yml")," in docker-machine."),s.a.createElement(o.MDXTag,{name:"h3",components:a},"Create the docker machine on AWS EC2"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," docker-machine create --driver amazonec2 --amazonec2-region ap-northeast-2 --amazonec2-vpc-id __SPECIFIC_VPC__ prisma-server-example"))),s.a.createElement(o.MDXTag,{name:"ul",components:a},s.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},"If creating EC2 instance is failed, check your AWS credentials and IAM policy.")),s.a.createElement(o.MDXTag,{name:"h3",components:a},"Activate new machine as active host"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," docker-machine prisma-server-example"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-built_in"}},"eval")," $(docker-machine env prisma-server-example)"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"\n#"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," check docker-machine"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," docker-machine ls"))),s.a.createElement(o.MDXTag,{name:"h3",components:a},s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"h3"},"docker-compose.yml")," file"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-yml",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"version:")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"3"'),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"services:"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"  prisma:"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"    image:")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"prismagraphql/prisma:1.23"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"    restart:")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"always"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"    ports:"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-bullet"}},"      -")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"4466:4466"'),"\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"# logging available in AWS CloudWatch"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"    logging:"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"      driver:")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"awslogs"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"      options:"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"        awslogs-group:")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"__AWSLOG_GROUP__"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"        awslogs-region:")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"ap-northeast-2"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"        awslogs-stream-prefix:")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"__AWSLOG_STREAM_PREFIX__"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"    environment:"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"      PRISMA_CONFIG:")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"|\n"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"        port:")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"4466"),"\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"# managementApiSecret: __SECRET_KEY__"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"        databases:"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"          default:"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"            connector:")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"postgres")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"# PostgreSQL"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"            host:")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"__AWS_RDS_HOST__"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"            database:")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"__DB_NAME__"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"            schema:")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"__DB_SCHEMA__"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"            user:")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"__DB_USERNAME__"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"            password:")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"__DB_PASSWORD__"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"            rawAccess:")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-literal"}},"true"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"            port:")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"5432"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"            migrations:")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-literal"}},"false"))),s.a.createElement(o.MDXTag,{name:"h3",components:a},"Compose Prisma Server in new docker machine"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},"docker compose up -d")),s.a.createElement(o.MDXTag,{name:"h3",components:a},"Assign security group and check inbound rules"),s.a.createElement(o.MDXTag,{name:"ul",components:a},s.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},"Basically, EC2 is assigned new security group as defalut. You need to check its inbound rule and open 4466 port.")),s.a.createElement(o.MDXTag,{name:"h3",components:a},"Set the elastic load balancer (optional)"),s.a.createElement(o.MDXTag,{name:"h3",components:a},"Modify prisma.yml"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-yml",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"endpoint:")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"http://__AWS_EC2_ADDRESS__:4466"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"datamodel:")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"datamodel.prisma"),"\n\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"generate:"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"  - generator:")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"javascript-client"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"    output:")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"./generated/prisma-client/"))),s.a.createElement(o.MDXTag,{name:"h3",components:a},"Deploy datamodel.prisma to Prisma Server in AWS EC2"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," PRISMA_MANAGEMENT_API_SECRET=__SECRET_KEY__ prisma deploy"))),s.a.createElement(o.MDXTag,{name:"h3",components:a},"Generate prisma client for GraphQL API"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," prisma generate"))),s.a.createElement(o.MDXTag,{name:"p",components:a},"References"),s.a.createElement(o.MDXTag,{name:"blockquote",components:a},s.a.createElement(o.MDXTag,{name:"p",components:a,parentName:"blockquote"},s.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://docs.docker.com/machine/drivers/aws/"}},"https://docs.docker.com/machine/drivers/aws/")," ",s.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://docs.docker.com/machine/examples/aws/#step-2-use-machine-to-create-the-instance"}},"https://docs.docker.com/machine/examples/aws/#step-2-use-machine-to-create-the-instance"))),s.a.createElement(o.MDXTag,{name:"hr",components:a}),s.a.createElement(o.MDXTag,{name:"h2",components:a},"(Option 2) Using AWS ECS Cli"),s.a.createElement(o.MDXTag,{name:"h3",components:a},"Create EC2 and ECS cluster"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," ecs-cli up --keypair __AWS_KEYPAIR_NAME__ --capability-iam --vpc __SPECIFIC_VPC__ --subnets __SUBNET_1__,__SUBNET_2__ --size 1 --instance-type t2.micro --cluster-config prisma-server-ecs"))),s.a.createElement(o.MDXTag,{name:"ul",components:a},s.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},"It will generate the cloudformation which will proceed the whole process to generate EC2 instance and ECS cluster.")),s.a.createElement(o.MDXTag,{name:"h3",components:a},"Compose the Prisma Server to ECS container"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," ecs-cli compose up --create-log-groups --cluster-config prisma-server-ecs"))),s.a.createElement(o.MDXTag,{name:"ul",components:a},s.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},"It will generate the new Task definition. You can check the new Task definition is runnig.")),s.a.createElement(o.MDXTag,{name:"h3",components:a},"Check if the new Task definition is running"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," esc-cli ps"))),s.a.createElement(o.MDXTag,{name:"ul",components:a},s.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},"If your new Task definition is working well, you might want to make new service in ECS cluster in order to manage the task.")),s.a.createElement(o.MDXTag,{name:"p",components:a},"References"),s.a.createElement(o.MDXTag,{name:"blockquote",components:a},s.a.createElement(o.MDXTag,{name:"p",components:a,parentName:"blockquote"},s.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://docs.aws.amazon.com/ko_kr/AmazonECR/latest/userguide/ECR_AWSCLI.html"}},"https://docs.aws.amazon.com/ko_kr/AmazonECR/latest/userguide/ECR_AWSCLI.html")," > ",s.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://docs.aws.amazon.com/ko_kr/AmazonECS/latest/developerguide/ECS_CLI_tutorial_EC2.html"}},"https://docs.aws.amazon.com/ko_kr/AmazonECS/latest/developerguide/ECS_CLI_tutorial_EC2.html"))))}},157:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=n(1),s=n.n(t),o=n(2);n.n(o);a.default=function(e){var a=e.components;!function(e,a){if(null==e)return{};var n,t,s={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(s[n]=e[n]);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(t=0;t<m.length;t++)n=m[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}}(e,["components"]);return s.a.createElement(o.MDXTag,{name:"wrapper",components:a},s.a.createElement(o.MDXTag,{name:"h1",components:a},"How to deploy the Next.js to AWS Lambda"),s.a.createElement(o.MDXTag,{name:"p",components:a},"by moondaddi on 2019-01-11"),s.a.createElement(o.MDXTag,{name:"hr",components:a}),s.a.createElement(o.MDXTag,{name:"p",components:a},"This is a tiny example to show how to deploy the Next.js app on AWS Lambda using ",s.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://up.docs.apex.sh/#introduction"}},"Apex Up"),"."),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Next.js app with custom server"),s.a.createElement(o.MDXTag,{name:"p",components:a},"The custom server for Next.js app is needed to run your app on AWS Lambda. In this example, ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"express")," will be used."),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-javascript",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// server.js"),"\n\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," express = ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"require"),"(",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"express"'),");\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," next = ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"require"),"(",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"next"'),");\n\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," port = ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"parseInt"),"(process.env.PORT, ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"10"),") || ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"3000"),";\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," dev = process.env.NODE_ENV !== ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"production"'),";\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," app = next({ dev });\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," handle = app.getRequestHandler();\n\napp\n  .prepare()\n  .then(",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"()")," =>")," {\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," server = express();\n\n    server.get(",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"/"'),", (req, res) => {\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," app.render(req, res, ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"/"'),", req.params);\n    });\n\n    server.get(",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"/about"'),", (req, res) => {\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," app.render(req, res, ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"/about"'),", req.params);\n    });\n\n    server.get(",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"*"'),", (req, res) => {\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," handle(req, res);\n    });\n\n    server.listen(port, err => {\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"if")," (err) ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"throw")," err;\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"console"),".log(",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"`> Ready on http://localhost:",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-subst"}},"${port}"),"`"),");\n    });\n  })\n  .catch(",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"ex")," =>")," {\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"console"),".log(ex);\n    process.exit(",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"1"),");\n  });")),s.a.createElement(o.MDXTag,{name:"h2",components:a},"update ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"h2"},"package.json")," with custom ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"h2"},"server.js")),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-json",metaString:""}},"{\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"scripts"'),": {\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"dev"'),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"node server.js"'),",\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"build"'),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"next build"'),",\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"start"'),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"NODE_ENV=production node server.js"'),"\n  }\n}")),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Install Apex Up"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," curl -sf https://up.apex.sh/install | sh"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"\n#"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," verify the installation"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," up version"))),s.a.createElement(o.MDXTag,{name:"h2",components:a},"AWS credentials"),s.a.createElement(o.MDXTag,{name:"p",components:a},"You need to have one AWS account and recommend to use IAM with programmaic way for security and convinience. If you have already installed ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"awscli")," or ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"awsebcli"),", etc. You are having ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"~/.aws/credentials")," which is storing AWS credentials. It allows you to use ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"AWS_PROFILE")," environment. If you don't please make one and save it with your account ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"access key")," and ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"security key")," in it."),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"#"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," ~/.aws/credentials"),"\n\n[my-aws-account-for-lambda]\naws_access_key = xxxxxxxxxxxxx\naws_secret_access_key = xxxxxxxxxxxxxxxxxxxx")),s.a.createElement(o.MDXTag,{name:"h2",components:a},"IAM policy for Up CLI"),s.a.createElement(o.MDXTag,{name:"p",components:a},"IAM policy allows the Up to access your AWS resources in order to deploy your Next.js app on Lambda. Go to ",s.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://aws.amazon.com/iam/"}},"AWS IAM")," and make the new policy and link it up to your AWS account."),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-json",metaString:""}},"{\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"Version"'),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"2012-10-17"'),",\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"Statement"'),": [\n    {\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"Effect"'),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"Allow"'),",\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"Action"'),": [\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"acm:*"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"cloudformation:Create*"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"cloudformation:Delete*"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"cloudformation:Describe*"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"cloudformation:ExecuteChangeSet"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"cloudformation:Update*"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"cloudfront:*"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"cloudwatch:*"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"ec2:*"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"ecs:*"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"events:*"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"iam:AttachRolePolicy"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"iam:CreatePolicy"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"iam:CreateRole"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"iam:DeleteRole"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"iam:DeleteRolePolicy"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"iam:GetRole"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"iam:PassRole"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"iam:PutRolePolicy"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"lambda:AddPermission"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"lambda:Create*"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"lambda:Delete*"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"lambda:Get*"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"lambda:InvokeFunction"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"lambda:List*"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"lambda:RemovePermission"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"lambda:Update*"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"logs:Create*"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"logs:Describe*"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"logs:FilterLogEvents"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"logs:Put*"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"logs:Test*"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"route53:*"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"route53domains:*"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"s3:*"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"ssm:*"'),",\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"sns:*"'),"\n      ],\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"Resource"'),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"*"'),"\n    },\n    {\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"Effect"'),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"Allow"'),",\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"Action"'),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"apigateway:*"'),",\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"Resource"'),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"arn:aws:apigateway:*::/*"'),"\n    }\n  ]\n}")),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Create ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"h2"},"up.json")," file"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-json",metaString:""}},"{\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"name"'),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"nextjs-example"'),",\n  # aws account profile in ~/.aws/credentials\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"profile"'),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"my-aws-account-for-lambda"'),",\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"regions"'),": [",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"ap-northeast-2"'),"],\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"lambda"'),": {\n    # min 128, default 512\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"memory"'),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"256"),",\n    # AWS Lambda supports node.js 8.10 latest\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"runtime"'),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"nodejs8.10"'),"\n  },\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"proxy"'),": {\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"command"'),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"npm start"'),",\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"timeout"'),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"25"),",\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"listen_timeout"'),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"15"),",\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"shutdown_timeout"'),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"15"),"\n  },\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"stages"'),": {\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"development"'),": {\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"proxy"'),": {\n        ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"command"'),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"yarn dev"'),"\n      }\n    }\n  },\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"environment"'),": {\n    # you can hydrate env variables as you want.\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"NODE_ENV"'),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"production"'),"\n  },\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"error_pages"'),": {\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"variables"'),": {\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"support_email"'),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"admin@my-email.com"'),",\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},'"color"'),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"#2986e2"'),"\n    }\n  }\n}")),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Build the Next.js app before deploy"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," yarn build"))),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Create ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"h2"},".upignore")," file"),s.a.createElement(o.MDXTag,{name:"p",components:a},"The Up will inspect your files to compose and deploy to lambda. Firstly The up will read ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},".gitignore")," and ignore files written in ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},".gitignore"),". And after that, ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},".upignore")," will be read. The Up, by default, ignores dotfiles, so needs to negate ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},".next")," directory in ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},".upignore")," in order for the Up will build the package with it."),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"#"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," .upignore"),"\n\n!.next")),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Deploy"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," up"))))}},158:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=n(1),s=n.n(t),o=n(2);n.n(o);a.default=function(e){var a=e.components;!function(e,a){if(null==e)return{};var n,t,s={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(s[n]=e[n]);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(t=0;t<m.length;t++)n=m[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}}(e,["components"]);return s.a.createElement(o.MDXTag,{name:"wrapper",components:a},s.a.createElement(o.MDXTag,{name:"h1",components:a},"How to replace the Redux with React Hooks"),s.a.createElement(o.MDXTag,{name:"p",components:a},"by moondaddi on 2019-02-11"),s.a.createElement(o.MDXTag,{name:"hr",components:a}),s.a.createElement(o.MDXTag,{name:"h2",components:a},"React Hooks release"),s.a.createElement(o.MDXTag,{name:"p",components:a},"The React team released the React Hooks on version 16.8.0. (",s.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://reactjs.org/docs/hooks-intro.html"}},"https://reactjs.org/docs/hooks-intro.html"),")"),s.a.createElement(o.MDXTag,{name:"p",components:a},"The Hooks are the new feature which can lead you not to use ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"class")," anymore in your React app. There are, mainly, three basic hooks, ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"useState"),", ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"useEffect")," and ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"useContext"),". Literally, ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"useState")," is the state hook which allows you to use state in functional component. And ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"useEffect")," is the effect hook which is working like lifecycle API, such as ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"componentDidMount()"),", ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"componentWillUnmount()")," and ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"componentDidUpdate()"),". Lastly, ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"useContext")," is the hook of ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Context")," created by ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"React.createContext()"),"."),s.a.createElement(o.MDXTag,{name:"p",components:a},"Additionally, there are more hooks ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"useReducer"),", ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"useCallback"),", ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"useMemo"),", ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"useRef"),", etc."),s.a.createElement(o.MDXTag,{name:"h2",components:a},s.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"https://react-redux.js.org/introduction/quick-start"}},"React Redux")),s.a.createElement(o.MDXTag,{name:"p",components:a},"The React Redux is the tool which let you manage the global state in centralized store and use the global state in any component inside the app. It enables you(especially, team size) to control the global state in encapsulated way."),s.a.createElement(o.MDXTag,{name:"h2",components:a},"React Hooks instead of React Redux"),s.a.createElement(o.MDXTag,{name:"p",components:a},"It is possible to replace the React Redux with React Hooks successfully without losing any good purpose of using React Redux with less code and more maintainability."),s.a.createElement(o.MDXTag,{name:"h3",components:a},"Create the store (initValue + reducer)"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-javascript",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// HooduxStore.js"),"\n\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," initValue = {\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"isLogin"),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-literal"}},"false"),",\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"token"),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'""'),"\n};\n\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," reducer = ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},"(",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"state, action"),") =>")," {\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"switch")," (action.type) {\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"case")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"setLogin"'),":\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," { ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"isLogin"),": action.payload };\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"case")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"setToken"'),":\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," { ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"token"),": action.payload };\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"default"),":\n      ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"throw")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"new")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"Error"),"(",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"wrong action.type"'),");\n  }\n};")),s.a.createElement(o.MDXTag,{name:"h3",components:a},"Wrap the top level component(eg. App.js) with Context"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-javascript",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// App.js"),"\n\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," MyContext = React.createContext();\n\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," App = ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"()")," =>")," {\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," [state, dispatch] = useReducer(reducer, initValue);\n\n  ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," (\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"<",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"MyContext.Provider")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"value"),"=",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-string"}},"{{")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"state"),", ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-attr"}},"dispatch")," }}>"),"\n      "),"<Header />",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},"\n      "),"<LogIn />",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},"\n    ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"</",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"MyContext.Provider"),">"),"\n  );\n};"))),s.a.createElement(o.MDXTag,{name:"blockquote",components:a},s.a.createElement(o.MDXTag,{name:"p",components:a,parentName:"blockquote"},"You can use the context wrapper component in higher order if you like.")),s.a.createElement(o.MDXTag,{name:"h3",components:a},"Pull and use ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"h3"},"state")," and ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"h3"},"dispatch")),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-javascript",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// Login.js"),"\n\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," { state, dispatch } = useContext(MyContext);\n\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," handleLogin = ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"()")," =>")," {\n  dispatch({ ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"type"),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},'"setLogin"'),", ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"payload"),": ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-literal"}},"true")," });\n};\n\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"xml"}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"<",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"div"),">"),'{state.isLogin ? "You are logged in" : "Not logged in"}',s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-tag"}},"</",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-name"}},"div"),">")),";")),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Conclusion"),s.a.createElement(o.MDXTag,{name:"p",components:a},s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"useReducer")," make a lot easier to pull and use the ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"state")," and ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"dispatch")," instead of using ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"connect()")," in React Redux. If you're familiar with it, you know how it works. In React Redux,every single component, you want to use ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"state")," or ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"dispatch"),", needs to be connected. But with ",s.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"useReducer"),", you need to call it just once in component if you want it to be."))}},159:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=n(1),s=n.n(t),o=n(2);n.n(o);a.default=function(e){var a=e.components;!function(e,a){if(null==e)return{};var n,t,s={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(s[n]=e[n]);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(t=0;t<m.length;t++)n=m[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}}(e,["components"]);return s.a.createElement(o.MDXTag,{name:"wrapper",components:a},s.a.createElement(o.MDXTag,{name:"h1",components:a},"Commands for Postgres DB initial setup"),s.a.createElement(o.MDXTag,{name:"p",components:a},"by Moondaddi on 2019-02-25"),s.a.createElement(o.MDXTag,{name:"hr",components:a}),s.a.createElement(o.MDXTag,{name:"h2",components:a},"TL;DR;"),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Create DB"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},"postgres=# CREATE DATABASE [db_name];")),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Create User with Password"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},"postgres=# CREATE USER [myuser] WITH ENCRYPTED PASSWORD '[password]';")),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Grant the privileges"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},"postgres=# GRANT ALL PRIVILEGES ON DATABASE [db_name] TO [myuser];")),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Grant a permission to create DB to user"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},"postgres=# ALTER USER [myuser] WITH CREATEDB;")))}},160:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=n(1),s=n.n(t),o=n(2);n.n(o);a.default=function(e){var a=e.components;!function(e,a){if(null==e)return{};var n,t,s={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(s[n]=e[n]);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(t=0;t<m.length;t++)n=m[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}}(e,["components"]);return s.a.createElement(o.MDXTag,{name:"wrapper",components:a},s.a.createElement(o.MDXTag,{name:"h1",components:a},"Kill the process occupying a specific port"),s.a.createElement(o.MDXTag,{name:"p",components:a},"by Moondaddi on 2019-03-05"),s.a.createElement(o.MDXTag,{name:"hr",components:a}),s.a.createElement(o.MDXTag,{name:"p",components:a},"Sometimes you can encounter this error which says another process is already occupying the port. You can kill the app or process if you can, the problem is, sometimes it is not available. For example when app was teminated by abnormal ways, it remains and occupy the communication port in background."),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Check the current process using specific port"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," lsof -i:3000"),"\n",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"\n#"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," output"),"\nCOMMAND     PID   USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME\nrust_grap 92304 myuser    3u  IPv4 0xffffffffffffffff      0t0  TCP localhost:arepa-cas (LISTEN)")),s.a.createElement(o.MDXTag,{name:"h2",components:a},"Kill the process"),s.a.createElement(o.MDXTag,{name:"pre",components:a},s.a.createElement(o.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-shell",metaString:""}},s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-meta"}},"$"),s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"bash"}}," ",s.a.createElement(o.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-built_in"}},"kill")," -9 92304"))),s.a.createElement(o.MDXTag,{name:"blockquote",components:a},s.a.createElement(o.MDXTag,{name:"p",components:a,parentName:"blockquote"},"use PID number (eg. 92304)")))}},197:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=n(1),s=n.n(t),o=n(138);a.default=function(e){var a=n(139)("./".concat(e.post[0].filename,".md")).default;return s.a.createElement("div",{id:"content"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"post-card"},s.a.createElement(a,null)),s.a.createElement("style",null,o.a)))}},2:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=n(141);Object.defineProperty(a,"MDXTag",{enumerable:!0,get:function(){return o(t).default}});var s=n(5);function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"MDXProvider",{enumerable:!0,get:function(){return o(s).default}})},422:function(e,a,n){e.exports=n(197)},5:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.withMDXComponents=void 0;var t=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},s=p(n(1)),o=p(n(142)),m=p(n(4));function p(e){return e&&e.__esModule?e:{default:e}}var r=(0,o.default)({}),c=r.Provider,l=r.Consumer;a.withMDXComponents=function(e){return function(a){var n=a.components,o=function(e,a){var n={};for(var t in e)a.indexOf(t)>=0||Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}(a,["components"]);return s.default.createElement(l,null,function(a){return s.default.createElement(e,t({components:n||a},o))})}};var i=function(e){var a=e.components,n=e.children;return s.default.createElement(c,{value:a},n)};i.propTypes={components:m.default.object.isRequired,children:m.default.element.isRequired},a.default=i}},[422]).default}});